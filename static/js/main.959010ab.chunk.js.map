{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","api/api.ts","components/common/Preloader/Preloader.module.css","components/common/FormsControl/FormsControls.module.css","components/common/Button/SuperButton.tsx","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","redux/dialogs-reducer.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/common/FormsControl/FormsControls.tsx","utils/validators/validators.tsx","components/Dialogs/Dialogs.tsx","hoc/WithAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","components/Header/logo/rocket33.png","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/sidebar-reducer.tsx","redux/propfile-reducer.tsx","redux/users-reducer.ts","redux/redux-store.tsx","components/common/Preloader/Preloader.tsx","components/Profile/MyPosts/Post/img/img.webp","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Users/img/logo2.png","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.tsx","components/common/DragAndDrop/DragAndDrop.tsx","components/common/Checkbox/SuperCheckbox.tsx","components/Profile/ProfileInfo/ContentForm/ContentForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearch.tsx","components/Users/Users.tsx","redux/users-selectors.tsx","components/Users/UsersContainer.tsx","components/common/404/Error404.tsx","App.tsx","index.tsx","redux/auth-reducer.ts","components/Dialogs/Dialogs.module.css","components/Users/Users.module.css","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","components/common/404/Error404.module.css","components/common/Button/SuperButton.module.css","components/Login/Login.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","redux/app-reducer.ts","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css","components/common/DragAndDrop/DragAndDrop.module.css","components/common/Checkbox/SuperCheckbox.module.css"],"names":["module","exports","ResultCode","instance","axios","create","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","term","friend","isFriend","get","then","response","data","followUser","id","post","unFollowUser","delete","authUser","authAPI","me","login","email","password","rememberMe","captchaURL","logout","profileAPI","getProfile","userId","getStatus","setPhoto","file","formData","FormData","append","put","setProfile","profile","updateStatus","status","securityAPI","getCaptchaURL","SuperButton","red","className","restProps","finalClassName","s","default","button","Navbar","navClass","useSelector","state","app","theme","nav","opacity","item","to","activeClassName","active","SEND_MESSAGE","initialState","dialogs","name","messages","DialogItem","props","path","dialog","style","color","Message","message","Textarea","input","meta","value","classStyle","touched","error","errorTextarea","textarea","errorSpan","Input","FormInput","field","form","errors","formClass","FormSelect","children","required","maxLengthCreator","maxLength","length","minLengthCreator","minLength","AddMessageFormRedux","reduxForm","useState","text","setText","onSubmit","handleSubmit","Field","onChange","e","currentTarget","placeholder","margin","validate","component","onClick","width","Dialogs","useEffect","document","title","dialogsElements","dialogsPage","map","messagesElements","dialogsItems","sendMessage","newMessageBody","mapStateToPropsForRedirect","auth","isAuth","WithAuthRedirect","Component","connect","compose","dispatch","type","Header","wrapClass","header","wrap","logo","src","alt","brand","loginBlock","fontSize","padding","HeaderContainer","this","React","LoginReduxForm","loginWrap","href","target","height","display","marginTop","marginRight","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SET_PHOTO","posts","likesCount","newPostText","isOwner","updateMode","setStatus","profileUpdateMode","mode","a","res","console","log","users","usersOnPage","totalUsersCount","isFetching","followingInProgress","portionSize","filter","actions","followSuccess","userID","setFilter","payload","unFollowSuccess","setUsers","setCurrentPage","page","setTotalUsersCount","count","totalCount","toggleIsFetching","toggleIsFollowingProgress","followUnFollowFlow","apiMethod","actionCreator","resultCode","rootReducer","combineReducers","sidebar","action","body","Date","getTime","profilePage","newPost","photos","usersPage","u","followed","authReducer","appReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Preloader","ldsDualRing","Post","classes","content","img","Logo","like","MyPosts","memo","PostsElements","postBlock","AddNewPostFormRedux","MyPostsContainer","ProfileStatusWithHooks","editMode","setEditMode","deactivateEditMode","checkedStatus","flexWrap","statusInputDiv","onDoubleClick","changeStatusDiv","autoFocus","onBlur","statusInput","onKeyPress","key","DragAndDrop","drag","setDrag","dragStartHandler","preventDefault","dragLeaveHandler","dragWrap","drop","onDragStart","onDragOver","onDragLeave","onDrop","dataTransfer","files","setEditPhotoMode","onDropHandler","SuperCheckbox","checked","onChangeChecked","spanClassName","finalInputClassName","checkbox","label","contentFormValidate","values","ContentForm","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","fragmentWrap","contentForm","initialValues","setSubmitting","isSubmitting","paddingRight","Object","entries","contacts","justifyContent","marginLeft","marginBottom","disabled","Content","flexDirection","detailsWrap","details","textAlign","ProfileInfo","editPhotoMode","photoSmall","small","photoLarge","large","descriptionBlock","contentWrap","Profile","myPostWrap","ProfileContainer","match","params","Number","authorizedUserId","history","push","setUserId","prevProps","prevState","snapshot","getState","Promise","reject","withRouter","Paginator","selectedPage","pagination","portionNumber","setPortionNumber","pagesCount","Math","ceil","totalItemsCount","pages","i","portionCount","leftPortionSize","rightPortionSize","p","index","onPageChanged","User","userWrap","photo","userInfoWrap","cursor","fontStyle","letterSpacing","some","unFollow","follow","usersSearchValidate","UsersSearch","onFilterChanged","Users","getUsersPage","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersFilter","UsersContainer","pageNumber","bind","items","getPage","Error404","errorWrap","errorBox","err","msg","News","lazy","Music","Settings","App","catchAllUnHandledErrors","initialize","addEventListener","removeEventListener","initialized","fallback","exact","render","DialogsContainer","AppConnect","AppContainer","StrictMode","ReactDOM","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","setAuthUserData","getCaptchaURLSuccess","Success","Captcha","url","stopSubmit","_error","INITIALIZED_SUCCESS","CHANGE_THEME","changeTheme","promise","all"],"mappings":"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","file":"static/js/main.959010ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2knFI\",\"detailsWrap\":\"ProfileInfo_detailsWrap__2HAQd\",\"details\":\"ProfileInfo_details__2yjPH\",\"img\":\"ProfileInfo_img__168ug\",\"textBlock\":\"ProfileInfo_textBlock__3HsWL\",\"description\":\"ProfileInfo_description__2Bnqe\",\"contentWrap\":\"ProfileInfo_contentWrap__1ttk9\",\"fragmentWrap\":\"ProfileInfo_fragmentWrap__1flSx\",\"contentForm\":\"ProfileInfo_contentForm__1pRBU\",\"name\":\"ProfileInfo_name__2Nfxf\",\"content\":\"ProfileInfo_content__1ZaTQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__1jbYM\",\"myPostWrap\":\"Profile_myPostWrap__2Mtbr\"};","import axios from \"axios\";\r\nimport {UsersType} from \"../redux/users-reducer\";\r\nimport {ProfileType} from \"../redux/propfile-reducer\";\r\nimport {FormType} from \"../components/Profile/ProfileInfo/ContentForm/ContentForm\";\r\n\r\n\r\nexport enum ResultCode  {\r\n    Success = 0,\r\n    Error = 1,\r\n    Captcha = 10,\r\n}\r\n\r\nexport type CommonType<T = {}> = {\r\n    data: T\r\n    fieldsErrors: string[]\r\n    messages: string[]\r\n    resultCode: ResultCode\r\n}\r\n\r\ntype UsersCommonType = {\r\n    items: UsersType[]\r\n    totalCount: number\r\n    error: null | string\r\n}\r\ntype MeResponseType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\n\r\nconst instance = axios.create({\r\n    withCredentials:true,\r\n    baseURL:  'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:{\r\n        'API-KEY':'7e928b19-02e3-4839-a906-80cc9541b152'\r\n    }})\r\n\r\nexport const userAPI = {\r\n\r\n    getUsers (currentPage = 1, pageSize = 5, term:string = '', friend:null | boolean = null) {\r\n        const isFriend = friend === null ? '' : `&friend=${friend}`\r\n\r\n        return instance.get<UsersCommonType>( `users?page=${currentPage}&count=${pageSize}&term=${term}`+ isFriend)\r\n            .then(response => response.data)},\r\n\r\n    followUser(id:number)  {\r\n        return instance.post<CommonType>(`follow/${id}`)\r\n            .then(response =>  response.data)},\r\n\r\n    unFollowUser(id:number) {\r\n        return instance.delete<CommonType>(`follow/${id}`)\r\n            .then(response => response.data)},\r\n\r\n    //without instance\r\n    authUser() {\r\n        return axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`, {\r\n            withCredentials:true})\r\n            .then(response => {\r\n              return response.data})\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<CommonType<MeResponseType>>(`auth/me`, {})\r\n            .then(response =>  response.data)},\r\n\r\n    login(email:string, password:string,rememberMe:boolean = false,captchaURL:string | null = null) {\r\n        return instance.post<CommonType<{userId: number}>>(`auth/login`, {email,password,rememberMe,captchaURL})\r\n    },\r\n    logout() {\r\n        return instance.delete<CommonType>(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId:number | null) {\r\n        return instance.get(`profile/`+ userId)\r\n            .then(response => {\r\n                return response\r\n            })},\r\n    getStatus(userId:number) {\r\n        return instance.get(`profile/status/`+ userId)\r\n          },\r\n    setPhoto(file:string | Blob) {\r\n        const formData = new FormData()\r\n        formData.append('image',file)\r\n\r\n        return instance.put(`/profile/photo/`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }})\r\n          },\r\n    setProfile(profile:FormType) {\r\n        return instance.put(`profile`,profile)\r\n    },\r\n\r\n    updateStatus(status:string) {\r\n        return instance.put<CommonType>(`profile/status/`, {status})\r\n           },\r\n\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaURL() {\r\n        return instance.get<CommonType<{url: string}>>(` /security/get-captcha-url/`)\r\n    },\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsDualRing\":\"Preloader_ldsDualRing__3yn0R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormsControls_form-control__3UWpJ\",\"input\":\"FormsControls_input__3tU5n\",\"textarea\":\"FormsControls_textarea__2A0lr\",\"errorInput\":\"FormsControls_errorInput__ShC7f\",\"errorTextarea\":\"FormsControls_errorTextarea__8lQff\",\"errorSpan\":\"FormsControls_errorSpan__1qZvi\",\"formClass\":\"FormsControls_formClass__3UCOD\"};","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport s from './SuperButton.module.css'\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {\r\n    red?: boolean\r\n}\r\n\r\nconst SuperButton: React.FC<SuperButtonPropsType> = (\r\n    {\r\n        red, className,\r\n        ...restProps\r\n    }\r\n) => {\r\n    const finalClassName = `${red ? s.red + ' ' + s.default : s.default} ${className} ${s.button}`\r\n\r\n    return (\r\n        <button\r\n            className={finalClassName}\r\n            {...restProps}\r\n        />\r\n    )\r\n}\r\n\r\nexport default SuperButton\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3TPlV\",\"item\":\"Navbar_item__1mjvs\",\"active\":\"Navbar_active__rcQNT\",\"opacity\":\"Navbar_opacity__2g_2X\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Navbar.module.css';\r\nimport {useSelector} from \"react-redux\";\r\nimport {ReduxStateType} from \"../../redux/redux-store\";\r\n\r\nfunction Navbar() {\r\n    const theme = useSelector<ReduxStateType,string>((state) => state.app.theme)\r\n\r\n    let navClass = theme === 'dark'? s.nav  : s.nav +' '+ s.opacity\r\n    return (\r\n        <nav className={navClass}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.active}> Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}> Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n\r\n    )\r\n}\r\n\r\nexport default Navbar;","\r\nconst SEND_MESSAGE = 'DIALOGS/SEND_MESSAGE'\r\n\r\n\r\nexport type MessagesType = {\r\n    id: number\r\n    messages: string\r\n}\r\n\r\nexport type DialogsType = {\r\n    id: number\r\n    name: string\r\n}\r\nexport type DialogActionType = SendMessageActionType\r\ntype SendMessageActionType = ReturnType<typeof sendMessageCreator>\r\n\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Anya'},\r\n        {id: 4, name: 'Sveta'},\r\n        {id: 5, name: 'Viktor'},\r\n        {id: 6, name: 'Valera'},\r\n    ] as DialogsType[],\r\n    messages: [\r\n        {id: 1, messages: 'Hi'},\r\n        {id: 2, messages: 'How are you?'},\r\n        {id: 3, messages: 'Good'},\r\n    ] as MessagesType[]\r\n}\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const dialogsReducer = (state: InitialStateType = initialState, action: DialogActionType):InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody\r\n            return {...state,\r\n                messages:[...state.messages,{id: new Date().getTime(), messages: body}]}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody:any) => {\r\n   return {\r\n        type: SEND_MESSAGE, newMessageBody\r\n    } as const\r\n}\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './../Dialogs.module.css'\r\n\r\nexport type DialogItemType = {\r\n    name: string\r\n    id: number\r\n}\r\n\r\nfunction DialogItem(props: DialogItemType) {\r\n    let path = '/dialogs/' + props.id\r\n\r\n    return <div className={s.dialog + ' ' + s.active}>\r\n        <NavLink style={{color:'black'}} to={path}> {props.name}</NavLink>\r\n    </div>\r\n}\r\n\r\nexport default DialogItem\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from './../Dialogs.module.css'\r\n\r\n\r\ntype MessageType = {\r\n    message:string\r\n}\r\n\r\nfunction Message(props: MessageType) {\r\n    return <div className={s.dialog}>{props.message}</div>\r\n}\r\n\r\nexport default Message\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport s from './FormsControls.module.css'\r\nimport {WrappedFieldsProps} from 'redux-form/lib/Fields'\r\nimport { FieldProps } from 'formik'\r\n\r\n\r\nexport const Textarea: React.FC<WrappedFieldsProps> = ({input,meta, value, ...restProps}) => {\r\n    const classStyle = meta.touched && meta.error ? s.errorTextarea + ' ' + s.textarea :  s.textarea\r\n    return <div>\r\n        <textarea className={classStyle} {...restProps} {...value}{...input} {...meta}/>\r\n        <div>\r\n            {meta.touched && meta.error && <span className={s.errorSpan}> {meta.error}</span>}\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldsProps> = ({input,meta, ...restProps}) => {\r\n    const classStyle = meta.touched && meta.error ? s.errorTextarea + ' ' + s.textarea :  s.textarea\r\n    return <div>\r\n        <input className={classStyle} {...restProps} {...input} {...meta}/>\r\n        <div>\r\n            {meta.touched && meta.error && <span className={s.errorSpan}> {meta.error}</span>}\r\n        </div>\r\n    </div>\r\n}\r\nexport const FormInput:  React.ComponentType<FieldProps> = ({ field,  form: { touched, errors }, ...props }) => {\r\n    const classStyle = touched[field.name] && errors[field.name] ? s.errorTextarea + ' ' + s.textarea + ' ' + s.formClass  :  s.textarea + ' ' + s.formClass\r\n    return <div>\r\n        <input className={classStyle}\r\n               {...field} {...props}/>\r\n        <div>\r\n            {touched[field.name] && errors[field.name] && <span className={s.errorSpan}> {errors[field.name]}</span>}\r\n        </div>\r\n    </div>\r\n}\r\nexport const FormSelect:  React.ComponentType<FieldProps> = ({children, field,  form: { touched, errors }, ...props }) => {\r\n    const classStyle = touched[field.name] && errors[field.name] ? s.errorTextarea + ' ' + s.textarea + ' ' + s.formClass :  s.textarea + ' ' + s.formClass\r\n    return <div>\r\n        <select className={classStyle}\r\n               {...field} {...props}>\r\n            {children}\r\n        </select>\r\n        <div>\r\n            {touched[field.name] && errors[field.name] && <span className={s.errorSpan}> {errors[field.name]}</span>}\r\n        </div>\r\n    </div>\r\n}\r\n","export const required = (value: any) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength: any) => (value: any) => {\r\n    if (value && value.length > maxLength)  return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\nexport const minLengthCreator = (minLength: any) => (value: any) => {\r\n    if (value && value.length < minLength)  return `Min length is ${minLength} symbols`\r\n    return undefined\r\n}\r\n\r\n","import s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from './Message/Message';\r\nimport {DialogsMapDispatchToPropsType, DialogsMapStateToPropsType} from \"./DialogsContainer\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {FormDataType} from \"../Login/Login\";\r\nimport {Textarea} from \"../common/FormsControl/FormsControls\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport SuperButton from \"../common/Button/SuperButton\";\r\n\r\n\r\nexport type DialogType = DialogsMapStateToPropsType & DialogsMapDispatchToPropsType\r\n\r\nfunction Dialogs(props: DialogType) {\r\n    useEffect(() => {\r\n        document.title = 'Messages'\r\n    },[])\r\n\r\n\r\n\r\n    let dialogsElements = props.dialogsPage.dialogs.map(dialog => <DialogItem key={dialog.id} name={dialog.name} id={dialog.id}/>)\r\n    let messagesElements = props.dialogsPage.messages.map(message => <Message key={message.id} message={message.messages}/>)\r\n\r\n\r\n    let sendMessage = (text: any ) => {\r\n        props.sendMessage(text.newMessageBody)\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n                <div>\r\n                    <AddMessageFormRedux onSubmit={sendMessage}/>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nlet maxLength = maxLengthCreator(40)\r\nlet minLength = minLengthCreator(4)\r\n\r\nconst AddMessageForm = (props: InjectedFormProps<FormDataType> ) => {\r\n    const [text,setText] = useState('asD12')\r\n\r\n    return  <div>\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    value={text}\r\n                    onChange={(e: any) => {setText(e?.currentTarget.value)}}\r\n                    placeholder={'Enter your message'}\r\n                    style={{margin: '10px 0'}}\r\n                    validate={[required, maxLength, minLength]}\r\n                    name={'newMessageBody'} component={Textarea}/>\r\n            </div>\r\n            <SuperButton\r\n                onClick={()=>{setText('')}}\r\n                style={{width:'120px'}}>\r\n                Send message\r\n            </SuperButton>\r\n        </form>\r\n    </div>\r\n}\r\nexport const AddMessageFormRedux = reduxForm<FormDataType>({form: 'dialogAddMessageForm'})(AddMessageForm)\r\n\r\nexport default Dialogs\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {Redirect} from \"react-router-dom\";\r\nimport React, {ComponentType} from \"react\";\r\nimport {ReduxStateType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype mapStateForRedirectPropsType = {\r\n    auth: boolean\r\n}\r\nlet mapStateToPropsForRedirect = (state: ReduxStateType): mapStateForRedirectPropsType => {\r\n    return {\r\n        auth: state.auth.isAuth\r\n    }\r\n}\r\nexport function WithAuthRedirect <T>(Component: ComponentType<T>)  {\r\n\r\n    const RedirectComponent = (props:mapStateForRedirectPropsType) => {\r\n            let {auth, ...restProps} = props\r\n            if (!props.auth) return <Redirect to={'/login'}/>\r\n\r\n            return <Component {...restProps as T}/>\r\n\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import React from 'react';\r\nimport {InitialStateType, sendMessageCreator} from '../../redux/dialogs-reducer';\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {ReduxStateType} from \"../../redux/redux-store\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\nexport type DialogsMapStateToPropsType = {\r\n    dialogsPage: InitialStateType\r\n}\r\nexport type DialogsMapDispatchToPropsType = {\r\n    sendMessage:(text:any) => void\r\n}\r\nconst mapStateToProps = (state:ReduxStateType):DialogsMapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch:Dispatch):DialogsMapDispatchToPropsType => {\r\n    return {\r\n        sendMessage: (text:any) => {\r\n           dispatch(sendMessageCreator(text))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps,mapDispatchToProps), WithAuthRedirect)(Dialogs)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/rocket33.bf84b78f.png\";","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Header.module.css';\r\nimport logo from './logo/rocket33.png';\r\nimport SuperButton from \"../common/Button/SuperButton\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {ReduxStateType} from \"../../redux/redux-store\";\r\n\r\ntype HeaderPropsType = {\r\n    login: string | null\r\n    isAuth: boolean\r\n    logout: () => void\r\n}\r\n\r\nfunction Header(props:HeaderPropsType) {\r\n    const theme = useSelector<ReduxStateType,string>((state) => state.app.theme)\r\n    let wrapClass = theme === 'dark'? s.header  : s.header +' '+ s.opacity\r\n\r\n    return (\r\n        <header className={wrapClass}>\r\n            <div className={s.wrap}>\r\n                <div className={s.logo}> <img src={logo} alt=\"\"/> <div className={s.brand}>SOCIAL NETWORK </div> </div>\r\n                <div className={s.loginBlock}>\r\n                    {props.isAuth\r\n                        ? <div>\r\n                            <NavLink  to={'/profile'}> {props.login} </NavLink>\r\n                            <SuperButton\r\n                                style={{fontSize: '12px', width: '60px', margin: '0 0 0 8px', padding: '4px'}}\r\n                                onClick={props.logout}>\r\n                                Log out\r\n                            </SuperButton>\r\n                        </div>\r\n                        : <NavLink to={'/login'}> Login </NavLink>}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {ReduxStateType} from \"../../redux/redux-store\";\r\nimport {authUser, logout} from \"../../redux/auth-reducer\";\r\n\r\ntype HeaderContainerType = MapStateToPropsType &{\r\n    authUser:() => void\r\n    logout:() => void\r\n}\r\nclass HeaderContainer extends React.Component<HeaderContainerType, {}>{\r\n\r\n    render() {\r\n      return <Header {...this.props}/>\r\n    }\r\n}\r\ntype  MapStateToPropsType = {\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\nconst mapStateToProps = (state:ReduxStateType):MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\nexport default connect(mapStateToProps,{authUser, logout}) (HeaderContainer);","import React, {ComponentType, useEffect} from 'react'\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControl/FormsControls\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport SuperButton from \"../common/Button/SuperButton\";\r\nimport {connect, useSelector} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {ReduxStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from \"./Login.module.css\";\r\n\r\n\r\nexport type FormDataType = {\r\n    email:string\r\n    password:string\r\n    captchaURL:string | null\r\n    rememberMe:boolean\r\n}\r\n\r\nlet maxLength = maxLengthCreator(20)\r\nlet minLength = minLengthCreator(4)\r\n\r\nexport const LoginForm:React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit,...props}) => {\r\n\r\n    const captchaURL = useSelector<ReduxStateType,string | null>(state => state.auth.captchaURL)\r\n\r\n    useEffect(() => {\r\n        document.title = 'Login'\r\n    },[])\r\n\r\n\r\n    return <div>\r\n        <form  className={s.loginWrap} onSubmit={handleSubmit}>\r\n            <p className={s.login}>Sign in</p>\r\n            <div className={s.auth}>\r\n                <p> You can use this app with default authorization or register\r\n                    <a href=\"https://social-network.samuraijs.com/\" target=\"_blank\"> here</a>\r\n                </p>\r\n                <p> Email: free@samuraijs.com</p>\r\n                <p>Password: free</p>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'   Email'}\r\n                       style={{height: '35px', width:'100%'}}\r\n                       validate={[required]}\r\n                       name={'email'}\r\n                       component={Input}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'   Password'}\r\n                       style={{height: '35px', width:'100%'}}\r\n                       validate={[required, maxLength, minLength]}\r\n                       type={'password'}\r\n                       name={'password'}\r\n                       component={Input}/>\r\n            </div>\r\n            <div style={{display: 'flex',marginTop: '5px'}}>\r\n                <Field\r\n                      style={{marginRight: '8px'}}\r\n                      component={'input'}\r\n                       name={'rememberMe'}\r\n                       type={\"checkbox\"}\r\n                />\r\n                <p style={{marginTop: '-6px'}}>Remember me</p>\r\n            </div>\r\n            <div style={{display: 'flex',marginTop: '5px'}}>\r\n                {captchaURL &&  <img src={captchaURL}/> }\r\n\r\n                {captchaURL &&   <Field\r\n                    style={{marginRight: '8px'}}\r\n                    component={Input}\r\n                    placeholder={'Symbols from image'}\r\n                    validate={required}\r\n                    name={'captchaURL'}\r\n                />}\r\n            </div>\r\n            <div>\r\n                <SuperButton> Login</SuperButton>\r\n            </div>\r\n            {props.error && <div className={s.errorTextarea}>{props.error}</div>}\r\n        </form>\r\n    </div>\r\n}\r\n\r\nexport const LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\ntype LoginType = mapStateToPropsType & {\r\n    login:(email:string, password:string, rememberMe:boolean,captchaURL:string | null) => void\r\n}\r\n\r\nconst Login = (props:LoginType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email,formData.password,formData.rememberMe,formData.captchaURL)\r\n    }\r\n\r\n    if(props.isAuth){ return <Redirect to={'/profile'}/> }\r\n\r\n    return <div>\r\n        <LoginReduxForm  onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth:boolean\r\n}\r\nlet mapStateToProps = (state: ReduxStateType):mapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n   }\r\n}\r\nexport default connect (mapStateToProps,{login})(Login)","let initialState = {}\r\n\r\n\r\nexport const sidebarReducer = (state:any = initialState,action:any) => {\r\n\r\n    return state\r\n\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../api/api\";\r\nimport {FormType} from \"../components/Profile/ProfileInfo/ContentForm/ContentForm\";\r\nimport {AppThunkType} from \"./redux-store\";\r\n\r\nconst ADD_POST = 'PROFILE/ADD-POST';\r\nconst SET_USER_PROFILE = 'PROFILE/SET_USER_PROFILE';\r\nconst SET_STATUS = 'PROFILE/SET_STATUS';\r\nconst DELETE_POST = 'PROFILE/DELETE_POST';\r\nconst SET_PHOTO = 'PROFILE/SET_PHOTO';\r\n\r\n\r\nexport type PostsType = {\r\n    id: number\r\n    messages: string\r\n    likesCount: number\r\n}\r\n\r\nexport type ContactsType = {\r\n    github: string | null\r\n    vk: string | null\r\n    facebook: string | null\r\n    instagram: string | null\r\n    twitter: string | null\r\n    website: string | null\r\n    youtube: string | null\r\n    mainLink: string | null\r\n}\r\nexport type PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type ProfileType = {\r\n    userId: number| null\r\n    lookingForAJob: boolean | null\r\n    lookingForAJobDescription: string | null\r\n    fullName: string | null\r\n    aboutMe: string | null\r\n    contacts: ContactsType\r\n    photos: PhotosType\r\n    }\r\nexport type ProfilePageType = {\r\n    posts: PostsType[]\r\n    newPostText: string\r\n    profile: ProfileType | null\r\n    status: string\r\n    isOwner:boolean\r\n    updateMode:boolean\r\n}\r\n\r\nexport type ProfileActionType = AddPostActionType | ProfileUpdateModeType | SetUsersProfileActionType | SetStatusActionType | DeletePostActionType | SetPhotoActionType\r\n\r\ntype AddPostActionType = ReturnType<typeof addPostCreator>\r\ntype SetUsersProfileActionType = ReturnType<typeof setUsersProfile>\r\ntype SetStatusActionType = ReturnType<typeof setStatus>\r\ntype DeletePostActionType = ReturnType<typeof deletePost>\r\ntype SetPhotoActionType = ReturnType<typeof setPhotoSuccess>\r\ntype ProfileUpdateModeType = ReturnType<typeof profileUpdateMode>\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            messages: 'Falcon 9’s first stage has landed on!',\r\n            likesCount: 11,\r\n        },\r\n        {\r\n            id: 2,\r\n            messages: 'Yuri Gagarin was the first person to fly in space.',\r\n            likesCount: 41,\r\n        },\r\n\r\n    ],\r\n    newPostText: '',\r\n    profile: null,\r\n    status:'Hello!',\r\n    isOwner:false,\r\n    updateMode:false\r\n}\r\n\r\nexport const profileReducer = (state: ProfilePageType = initialState, action: ProfileActionType): ProfilePageType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost: PostsType = {\r\n                id: new Date().getTime(),\r\n                messages: action.newPostText,\r\n                likesCount: 0,\r\n            }\r\n            return {\r\n                ...state,\r\n                newPostText: '',\r\n                posts: [newPost,...state.posts],\r\n\r\n            }\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.text\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n\r\n        case DELETE_POST:\r\n            return {...state,\r\n                posts: state.posts.filter((post) => post.id !== action.id) }\r\n        case SET_PHOTO:\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n      case 'PROFILE_UPDATE_MODE':\r\n            return {...state, updateMode:action.mode }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const addPostCreator = (newPostText:string) => ({type: ADD_POST, newPostText} as const)\r\nexport const setStatus = (text: string) => ({type: SET_STATUS, text} as const)\r\nexport const setUsersProfile = (profile: ProfileType) => ( {type: SET_USER_PROFILE, profile} as const)\r\nexport const deletePost = (id: number) => ({type: DELETE_POST, id} as const)\r\nexport const setPhotoSuccess = (photos: PhotosType) => ({type: SET_PHOTO, photos} as const )\r\nexport const profileUpdateMode = (mode: boolean) => ({type: \"PROFILE_UPDATE_MODE\", mode} as const)\r\n\r\nexport const getProfile = (id:number | null) =>\r\n    async (dispatch: Dispatch<ProfileActionType>) => {\r\n         try {\r\n             const res = await profileAPI.getProfile(id)\r\n             dispatch(setUsersProfile(res.data))\r\n         }catch (e){\r\n             console.log(e)\r\n         }\r\n}\r\n\r\n\r\nexport const getStatus = (id: number) =>\r\n    async (dispatch: Dispatch<ProfileActionType>) => {\r\n        try {\r\n            const res = await profileAPI.getStatus(id)\r\n            dispatch(setStatus(res.data))\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n\r\n\r\nexport const setPhoto = (file: string | Blob) =>\r\n    async (dispatch: Dispatch<ProfileActionType>) => {\r\n        try {\r\n            const res = await profileAPI.setPhoto(file)\r\n            if (res.data.resultCode === 0) {\r\n                dispatch(setPhotoSuccess(res.data.data.photos))\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n\r\nexport const setProfile = (file: FormType):AppThunkType  =>\r\n    async (dispatch, getState) => {\r\n        let userId = getState().auth.userId\r\n        try {\r\n            const res = await profileAPI.setProfile(file)\r\n                    if (res.data.resultCode === 0) {\r\n                        dispatch(getProfile(userId))\r\n                        dispatch(profileUpdateMode(false))\r\n                    }\r\n        } catch (e) {\r\n          return Promise.reject(e.data.messages[0])\r\n        }\r\n    }\r\n\r\n\r\nexport const updateStatus = (text: string) =>\r\n    async (dispatch: Dispatch<ProfileActionType>) => {\r\n        try {\r\n            const res = await profileAPI.updateStatus(text)\r\n            if (res.data.resultCode === 0) {\r\n                dispatch(setStatus(text))\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n","import {CommonType, userAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {InferActionTypes} from \"./redux-store\";\r\n\r\nexport type UsersType = {\r\n    id: number\r\n    photoUrl: string\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    photos: {\r\n        small: string\r\n        large: string\r\n    }\r\n    location: {\r\n        city: string\r\n        country: string\r\n    }\r\n}\r\n\r\n type InitialStateType = {\r\n    users: UsersType[]\r\n    usersOnPage: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching:boolean\r\n    followingInProgress:number[]\r\n    portionSize:number\r\n    filter:{\r\n        term:string\r\n        friend:null | boolean\r\n    }\r\n}\r\nexport type FilterType = typeof initialState.filter\r\ntype FollowActionType = ReturnType<typeof actions.followSuccess>\r\ntype UnFollowActionType = ReturnType<typeof actions.unFollowSuccess>\r\nexport type UsersActionType = InferActionTypes<typeof actions>\r\n\r\nconst initialState: InitialStateType = {\r\n    users: [],\r\n    usersOnPage: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching:false,\r\n    followingInProgress:[],\r\n    portionSize:15,\r\n    filter:{\r\n        term:'',\r\n        friend:null\r\n    }\r\n}\r\nexport const usersReducer = (state: InitialStateType = initialState, action: UsersActionType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case 'SET_USERS': {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n        case 'SET_CURRENT_PAGE': {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case 'SET_TOTAL_USERS_COUNT': {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case 'TOGGLE_IS_FETCHING': {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case 'FILTER': {\r\n            return {...state, filter: action.payload}\r\n        }\r\n        case 'TOGGLE_IS_FOLLOWING_PROGRESS': {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id =>  id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    followSuccess :(id: number) => ({type: 'FOLLOW', userID: id} as const),\r\n    setFilter :(filter:FilterType) =>  ({type: 'FILTER', payload:filter} as const),\r\n    unFollowSuccess :(id: number) =>  ({type: 'UNFOLLOW', userID: id} as const),\r\n    setUsers :(users: UsersType[]) => ({type: 'SET_USERS', users: users} as const),\r\n    setCurrentPage :(page: number) => ({type: 'SET_CURRENT_PAGE', currentPage: page} as const),\r\n    setTotalUsersCount :(count: number) => ( {type: 'SET_TOTAL_USERS_COUNT', totalCount: count} as const),\r\n    toggleIsFetching :(isFetching: boolean) => ({type: 'TOGGLE_IS_FETCHING', isFetching} as const),\r\n    toggleIsFollowingProgress :(followingInProgress: boolean, userId:number) => ({type: 'TOGGLE_IS_FOLLOWING_PROGRESS', followingInProgress, userId} as const ),\r\n}\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number,filter:FilterType) =>\r\n    async (dispatch: Dispatch<UsersActionType>) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        dispatch(actions.setCurrentPage(currentPage))\r\n        dispatch(actions.setFilter(filter))\r\n\r\n      const res = await  userAPI.getUsers(currentPage, pageSize,filter.term,filter.friend);\r\n                dispatch(actions.toggleIsFetching(false))\r\n                dispatch(actions.setUsers(res.items))\r\n                dispatch(actions.setTotalUsersCount(res.totalCount))\r\n    }\r\n\r\nexport const getPage = (pageNumber: number, currentPage: number) =>\r\n    async (dispatch: Dispatch<UsersActionType>) => {\r\n        dispatch(actions.setCurrentPage(pageNumber))\r\n        dispatch(actions.toggleIsFetching(true))\r\n\r\n        const res = await userAPI.getUsers(pageNumber, currentPage);\r\n                dispatch(actions.toggleIsFetching(false))\r\n                dispatch(actions.setUsers(res.items))\r\n    }\r\n\r\n const followUnFollowFlow = async (userId:number, dispatch: Dispatch<UsersActionType>,apiMethod: (userId: number) => Promise<CommonType>,\r\n                                   actionCreator:(id:number) => FollowActionType | UnFollowActionType) => {\r\n        dispatch(actions.toggleIsFollowingProgress(true, userId))\r\n     const res = await apiMethod(userId)\r\n                if (res.resultCode === 0) {\r\n                    dispatch(actionCreator(userId))\r\n                }\r\n                dispatch(actions.toggleIsFollowingProgress(false, userId))\r\n    }\r\n\r\nexport const follow = (userId:number) =>\r\n    async (dispatch: Dispatch<UsersActionType>) => {\r\n\r\n        const apiMethod = userAPI.followUser.bind(userAPI)\r\n        followUnFollowFlow(userId,dispatch, apiMethod,actions.followSuccess)\r\n    }\r\n\r\nexport const unFollow = (userId:number) =>\r\n    async (dispatch: Dispatch<UsersActionType>) => {\r\n\r\n        const apiMethod = userAPI.unFollowUser.bind(userAPI)\r\n        followUnFollowFlow(userId,dispatch, apiMethod,actions.unFollowSuccess)\r\n    }\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {sidebarReducer} from \"./sidebar-reducer\";\r\nimport {DialogActionType, dialogsReducer} from \"./dialogs-reducer\";\r\nimport {ProfileActionType, profileReducer} from \"./propfile-reducer\";\r\nimport {UsersActionType, usersReducer} from \"./users-reducer\";\r\nimport {AuthActionType, authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {AppActionType, appReducer} from \"./app-reducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    sidebar: sidebarReducer,\r\n    dialogsPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    auth:authReducer,\r\n    app:appReducer,\r\n    form:formReducer\r\n})\r\n\r\n//@ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport type ReduxStateType = ReturnType<typeof rootReducer>\r\n\r\n// аналог ReturnType, но для типизации обьекта;\r\n// если переданное значение(Т) соотвествует ключ-массив аргументов, infer запишет этот тип в U и вернет его\r\n//https://habr.com/ru/company/alfa/blog/452620/\r\nexport type InferActionTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\nexport type ReduxActionType = AuthActionType | UsersActionType | DialogActionType | ProfileActionType | AppActionType\r\nexport type AppThunkType <ReturnType = void> = ThunkAction<ReturnType, ReduxStateType,unknown, ReduxActionType>\r\n\r\nexport default store","import s from \"./Preloader.module.css\";\r\nimport React from \"react\";\r\n\r\nexport const Preloader = () => {\r\n    return <div className={s.ldsDualRing}></div>\r\n}","export default __webpack_public_path__ + \"static/media/img.1c5b1442.webp\";","import React from \"react\";\r\nimport classes from \"./Post.module.css\";\r\nimport Logo from './img/img.webp';\r\n\r\ntype PostType = {\r\n    message:string\r\n    like:number\r\n}\r\n\r\nfunction Post(props:PostType) {\r\n\r\n    return <div className={classes.content}>\r\n        <div>\r\n            <div className={classes.img}><img src={Logo} alt=\"\"/></div>\r\n            <div className={classes.like}>like {props.like}</div>\r\n\r\n        </div>\r\n                <div className={classes.message}> {props.message}</div>\r\n        </div>\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport classes from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport {MyPostsMapDispatchToPropsType, MyPostsMapStateToPropsType} from \"./MyPostsContainer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {FormDataType} from \"../../Login/Login\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControl/FormsControls\";\r\nimport SuperButton from \"../../common/Button/SuperButton\";\r\n\r\n\r\nexport type MyPostsPropsType = MyPostsMapStateToPropsType & MyPostsMapDispatchToPropsType\r\n\r\nconst MyPosts = React.memo((props: MyPostsPropsType) => {\r\n\r\n    let PostsElements =\r\n        props.posts.map(post => <Post key={post.id} message={post.messages} like={post.likesCount}/>)\r\n\r\n    let addPost = (text: any) => {\r\n        props.onClick(text.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.content}>\r\n            <div className={classes.postBlock}>\r\n                <div className={classes.header}>\r\n                    <h4> My publications.</h4>\r\n                </div>\r\n                <AddNewPostFormRedux onSubmit={addPost}/>\r\n            </div>\r\n            <div className={classes.posts}>\r\n                {PostsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n\r\nlet maxLength = maxLengthCreator(20)\r\nlet minLength = minLengthCreator(4)\r\n\r\nconst AddNewPostForm = (props:InjectedFormProps<FormDataType> ) => {\r\n    return  <div>\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    placeholder={'  Enter your message'}\r\n                    style={{margin: '10px 0'}}\r\n                    name={'newPostText'}\r\n                    component={Textarea}\r\n                    validate={[required, maxLength, minLength]}\r\n                />\r\n            </div>\r\n            <SuperButton>\r\n                Publish\r\n            </SuperButton>\r\n        </form>\r\n    </div>\r\n}\r\n\r\nexport const AddNewPostFormRedux = reduxForm<FormDataType >({form: 'profileAddMessageForm'})(AddNewPostForm)\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPostCreator, PostsType} from \"../../../redux/propfile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {ReduxStateType} from \"../../../redux/redux-store\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nexport type MyPostsMapStateToPropsType = {\r\n    posts:PostsType[]\r\n    newPostText:string\r\n}\r\nexport  type MyPostsMapDispatchToPropsType = {\r\n    onClick:(text:any) => void\r\n}\r\nconst mapStateToProps = (state:ReduxStateType):MyPostsMapStateToPropsType => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch:Dispatch):MyPostsMapDispatchToPropsType => {\r\n    return {\r\n        onClick: (text:any) => {\r\n            dispatch(addPostCreator(text))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts);\r\n\r\n\r\nexport default MyPostsContainer","export default __webpack_public_path__ + \"static/media/logo2.73c0cc36.png\";","import s from \"./ProfileStatus.module.css\";\r\nimport React, {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\n type PropsType = {\r\n     status: string\r\n     isOwner:boolean\r\n     updateStatus:(text:string) => void\r\n }\r\nexport const ProfileStatusWithHooks = (props: PropsType) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    },[props.status])\r\n\r\n    const deactivateEditMode = () => {\r\n        props.updateStatus(status)\r\n        setEditMode(false)\r\n    }\r\n    const activateEditMode = () => {\r\n       if(props.isOwner)  setEditMode(true)\r\n    }\r\n    const onKeyPressInput = (e:React.KeyboardEvent<HTMLInputElement>) => {\r\n        if(e.key === 'Enter')  deactivateEditMode()\r\n    }\r\n    const onStatusChange = (e:ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    let checkedStatus = props.status === null ? 'Hello!' : props.status\r\n\r\n    return <div style={{flexWrap: 'wrap'}}>\r\n        {!editMode &&\r\n        <div className={s.statusInputDiv}>\r\n            <span onDoubleClick={activateEditMode}>\r\n                {checkedStatus}\r\n            </span>\r\n        </div>}\r\n        {editMode && props.isOwner &&\r\n        <div className={s.changeStatusDiv}>\r\n            <input\r\n                onChange={onStatusChange}\r\n                autoFocus={true}\r\n                onBlur={deactivateEditMode}\r\n                className={s.statusInput}\r\n                type=\"text\"\r\n                value={status}\r\n                onKeyPress={onKeyPressInput}\r\n            />\r\n        </div>}\r\n    </div>\r\n}","import React, {useState} from \"react\";\r\nimport s from \"./DragAndDrop.module.css\";\r\n\r\ntype DragType = {\r\n    setPhoto?:(file:string | Blob) => void\r\n    setEditPhotoMode?: (value:boolean) => void\r\n    isOwner?:boolean\r\n}\r\nexport const DragAndDrop = (props:DragType) => {\r\n\r\n    const [drag, setDrag] = useState(false)\r\n\r\n    const dragStartHandler = (e: React.DragEvent<HTMLDivElement>) => {\r\n        e.preventDefault()\r\n        setDrag(true)\r\n    }\r\n    const dragLeaveHandler = (e: React.DragEvent<HTMLDivElement>) => {\r\n        e.preventDefault()\r\n        setDrag(false)\r\n    }\r\n    const onDropHandler = (e: React.DragEvent<HTMLDivElement>) => {\r\n        e.preventDefault()\r\n\r\n        if(e.dataTransfer.files[0]){\r\n            let files = e.dataTransfer.files[0]\r\n            props.setPhoto && props.setPhoto(files)\r\n        }\r\n        setDrag(false)\r\n        props.setEditPhotoMode && props.setEditPhotoMode(false)\r\n    }\r\n\r\n    return   <div className={s.dragWrap}>\r\n        {drag\r\n            ? <div\r\n                className={s.drop}\r\n                onDragStart={(e)=>{dragStartHandler(e)}}\r\n                onDragOver={(e)=>{dragStartHandler(e)}}\r\n                onDragLeave={(e)=>{dragLeaveHandler(e)}}\r\n                onDrop={(e)=>{onDropHandler(e)}}\r\n            > Drop file  </div>\r\n            : <div\r\n                className={s.drag}\r\n                onDragStart={(e)=>{dragStartHandler(e)}}\r\n                onDragOver={(e)=>{dragStartHandler(e)}}\r\n                onDragLeave={(e)=>{dragLeaveHandler(e)}}\r\n            >  Drag file </div>\r\n        }\r\n\r\n    </div>\r\n}\r\n\r\n//todo add pop-up when file download","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport s from './SuperCheckbox.module.css'\r\nimport {WrappedFieldsProps} from \"redux-form/lib/Fields\";\r\nimport {FieldProps} from \"formik\";\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\ntype SuperCheckboxPropsType = DefaultInputPropsType & {\r\n    onChangeChecked?: (checked: boolean) => void\r\n    spanClassName?: string\r\n}\r\n\r\nexport const SuperCheckbox: React.FC<SuperCheckboxPropsType & WrappedFieldsProps & FieldProps> = (\r\n    {input,meta,type,checked,field,\r\n        onChange, onChangeChecked,\r\n        className, spanClassName,form,\r\n        children,name,\r\n\r\n        ...restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChange && onChange(e);\r\n        onChangeChecked && onChangeChecked(e.currentTarget.checked)\r\n    }\r\n\r\n    const finalInputClassName = `${s.checkbox} ${className ? className : ''}`\r\n\r\n    return (\r\n        <label className={s.label}>\r\n            <input\r\n                type={'checkbox'}\r\n                className={finalInputClassName}\r\n                checked={checked}\r\n                {...input}\r\n                {...field}\r\n                {...meta}\r\n                {...restProps}\r\n            />\r\n            {children && <span className={s.spanClassName}> {children}</span>}\r\n        </label>\r\n    )\r\n}\r\n\r\nexport default SuperCheckbox\r\n","import React from \"react\";\r\nimport {ContentType} from \"../ProfileInfo\";\r\nimport s from \"../ProfileInfo.module.css\";\r\nimport {Field, Form, Formik} from \"formik\";\r\nimport SuperButton from \"../../../common/Button/SuperButton\";\r\nimport {FormInput} from \"../../../common/FormsControl/FormsControls\";\r\nimport SuperCheckbox from \"../../../common/Checkbox/SuperCheckbox\";\r\n\r\n\r\nexport type FormType = {\r\n    fullName: string | null | undefined\r\n    aboutMe: string | null | undefined\r\n    lookingForAJob:boolean | null | undefined\r\n    lookingForAJobDescription:string | null | undefined\r\n}\r\n\r\nconst contentFormValidate = (values: any) => {\r\n    const errors = {};\r\n    return errors;\r\n}\r\n\r\nexport const ContentForm:React.FC<ContentType> = (props ) => {\r\n\r\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        setSubmitting(false)\r\n        props.profileUpdateMode(false)\r\n        props.setProfile(values)\r\n    }\r\n\r\n    let fullName = props.profile?.fullName && props.profile?.fullName\r\n    let aboutMe = props.profile?.aboutMe && props.profile?.aboutMe\r\n    let lookingForAJob = props.profile?.lookingForAJob && props.profile?.lookingForAJob\r\n    let lookingForAJobDescription = props.profile?.lookingForAJobDescription && props.profile?.lookingForAJobDescription\r\n\r\n    const formClass = s.fragmentWrap + ' ' + s.contentForm\r\n    return <Formik\r\n        initialValues={{fullName: fullName, aboutMe: aboutMe,lookingForAJob:lookingForAJob,lookingForAJobDescription:lookingForAJobDescription}}\r\n        validate={contentFormValidate}\r\n        onSubmit={submit}\r\n    >\r\n        {({isSubmitting}) => (\r\n            <Form style={{paddingRight: '10px'}}>\r\n                <div className={formClass}  style={{marginTop: '13px'}}>\r\n                    <p> Full name: </p>\r\n                    <Field component={FormInput} placeholder={'Full name'} type=\"text\" name=\"fullName\"/>\r\n                </div>\r\n\r\n                <div className={formClass}>\r\n                    <p> Description: </p>\r\n                    <Field component={FormInput} placeholder={'About me'} type=\"text\" name=\"aboutMe\"/>\r\n                </div>\r\n                <div className={s.fragmentWrap}>\r\n                    <p> Looking for a job: </p>\r\n                    <Field component={SuperCheckbox} type=\"checkbox\" name=\"lookingForAJob\"/>\r\n                </div>\r\n                <div className={s.fragmentWrap  + ' ' + s.contentForm} style={{marginTop:'7px'}}>\r\n                        <p> My skills: </p>\r\n                        <Field component={FormInput} placeholder={'My skills'} type=\"text\" name=\"lookingForAJobDescription\"/>\r\n                </div>\r\n                <div className={s.fragmentWrap}>\r\n                         <p> Contacts: {\r\n                            Object\r\n                                .entries(props.profile?.contacts ? props.profile?.contacts : {})\r\n                                .map((key, value) => {\r\n                                    return <div key={value} className={s.fragmentWrap} style={{justifyContent: 'space-between',marginLeft: '20px'}}>\r\n                                        <p> {key[0]}: </p>\r\n                                        <Field style={{marginBottom:'5px'}} component={FormInput} placeholder={key[0]} type=\"text\" name={'contacts.' + key[0]}/>\r\n                                    </div>})}\r\n                        </p>\r\n                </div>\r\n                <SuperButton\r\n                    style={{width: '50%', opacity:'0.7'}}\r\n                    type=\"submit\"\r\n                    disabled={isSubmitting}>\r\n                    submit changes\r\n                </SuperButton>\r\n\r\n            </Form>\r\n        )}\r\n    </Formik>\r\n}\r\n\r\n","import React, {useState} from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport Logo from './../../Users/img/logo2.png';\r\nimport {ProfileType} from \"../../../redux/propfile-reducer\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatus/ProfileStatusWithHooks\";\r\nimport {DragAndDrop} from \"../../common/DragAndDrop/DragAndDrop\";\r\nimport {ContentForm, FormType} from \"./ContentForm/ContentForm\";\r\nimport SuperButton from \"../../common/Button/SuperButton\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus:(text:string) => void\r\n    setPhoto:(file:string | Blob) => void\r\n    isOwner:boolean\r\n    profileUpdateMode:(value:boolean) => void\r\n    updateMode:boolean\r\n    setProfile:(file:FormType)  => void\r\n}\r\n\r\nfunction ProfileInfo(props: PropsType) {\r\n\r\n    const [editPhotoMode, setEditPhotoMode] = useState(false)\r\n\r\n    if (!props.profile) return <Preloader/>;\r\n\r\n    let photoSmall = props.profile.photos.small ? props.profile.photos.small  : Logo\r\n    let photoLarge = props.profile.photos.large ? props.profile.photos.large : Logo\r\n\r\n    let img = <img onDoubleClick={()=>{setEditPhotoMode(!editPhotoMode)}} className={s.img} src={photoLarge || photoSmall}/>\r\n\r\n    return (\r\n        <div>\r\n\r\n                <div className={s.descriptionBlock}>\r\n                    <div className={s.content} style={{ margin: '15px 0 0 15px', padding:' 0 20px 0 0'}}>\r\n                        {img}\r\n                        <div>\r\n                            {props.isOwner\r\n                            && editPhotoMode\r\n                            && <div style={{margin: '15px 0 0 30px'}}>\r\n                                <DragAndDrop\r\n                                    setEditPhotoMode={setEditPhotoMode}\r\n                                    isOwner={props.isOwner}\r\n                                    setPhoto={props.setPhoto}/>\r\n                            </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={s.contentWrap}>\r\n                        <div className={s.content} style={{margin:' 0 0 20px 0'}}>\r\n                        <div className={s.name}>{props.profile && props.profile.fullName}\r\n                            <span>Double click on highlighted objects to edit your profile</span>\r\n                        </div>\r\n\r\n                        <div className={s.fragmentWrap} style={{textAlign: 'initial'}}>\r\n                            <p> Status: </p> <ProfileStatusWithHooks isOwner={props.isOwner}\r\n                                                                     updateStatus={props.updateStatus}\r\n                                                                     status={props.status}/>\r\n                        </div>\r\n            </div>\r\n\r\n                            {props.updateMode\r\n                                ? <div className={s.content}>\r\n                                    <ContentForm\r\n                                    setPhoto={props.setPhoto}\r\n                                    isOwner={props.isOwner}\r\n                                    profile={props.profile}\r\n                                    setProfile={props.setProfile}\r\n                                    profileUpdateMode={props.profileUpdateMode}\r\n                                    updateMode={props.updateMode}/>\r\n                            </div>\r\n                                : <div className={s.content}>\r\n                                    <Content\r\n                                    setPhoto={props.setPhoto}\r\n                                    isOwner={props.isOwner}\r\n                                    profile={props.profile}\r\n                                    setProfile={props.setProfile}\r\n                                    profileUpdateMode={props.profileUpdateMode}\r\n                                    updateMode={props.updateMode}/>\r\n                                </div>\r\n                            }\r\n\r\n                    {/*<div className={s.textBlock}>*/}\r\n                    {/*    <div className={s.description}>Do you know that Falcon 9 is a reusable, two-stage rocket*/}\r\n                    {/*        manufactured by SpaceX for the reliable and safe transport of people and*/}\r\n                    {/*        payloads into Earth orbit and beyond? Now you know.*/}\r\n                    {/*    </div>*/}\r\n                    {/*</div>*/}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport type ContentType = {\r\n    profile: ProfileType | null\r\n    setPhoto:(file:string | Blob) => void\r\n    isOwner:boolean\r\n    profileUpdateMode:(value:boolean) => void\r\n    updateMode:boolean\r\n    setProfile:(file:FormType)  => void\r\n}\r\nconst Content = (props:ContentType) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    const submitHandler = () => {props.profileUpdateMode(true)}\r\n\r\n    return <div>\r\n\r\n        <div  className={s.fragmentWrap}>\r\n            <p> Full name: </p> <p>{props.profile?.fullName}</p>\r\n        </div>\r\n\r\n        <div  className={s.fragmentWrap}>\r\n            <p> Description: </p> <p>{props.profile?.aboutMe}</p>\r\n        </div>\r\n        <div  className={s.fragmentWrap}>\r\n            {props.profile?.lookingForAJob &&\r\n            <>\r\n           <p> Looking for a job: </p>\r\n            <p>Yes!</p>\r\n           </>}\r\n        </div>\r\n        <div  className={s.fragmentWrap}>\r\n            {props.profile?.lookingForAJob &&\r\n            <>\r\n                <p> My skills: </p>\r\n                <p>{props.profile?.lookingForAJobDescription || 'lookingForAJobDescription'}</p>\r\n            </>}\r\n        </div>\r\n        <div  className={s.fragmentWrap}>\r\n            {!editMode\r\n                ? <div className={s.detailsWrap}  onClick={()=>{setEditMode(true)}}>\r\n                    <div > Show contacts</div>\r\n                    <div className={s.details}/>\r\n                </div>\r\n                : <div style={{flexDirection: 'column'}}>\r\n                    <div className={s.detailsWrap} onClick={() => {setEditMode(false)}}>\r\n                        <div> Hide contacts</div>\r\n                        <div className={s.details}/>\r\n                    </div>\r\n                    <p style={{textAlign:'initial'}}> Contacts: {\r\n                        Object\r\n                            .entries(props.profile?.contacts ? props.profile?.contacts : {})\r\n                            .map((key, value) => {\r\n                                return <div key={value} className={s.fragmentWrap} style={{marginLeft: '20px'}}>\r\n                                    <p> {key[0]}: </p> <p>{key[1]}</p>\r\n                                </div>\r\n                            })}</p>\r\n                </div>}\r\n\r\n        </div>\r\n        {props.isOwner && <SuperButton\r\n            style={{width: '50%', opacity:'0.5'}}\r\n            onClick={submitHandler}> edit profile</SuperButton>}\r\n    </div>\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default ProfileInfo;","import React, {useEffect} from \"react\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport s from './Profile.module.css'\r\nimport {ProfileType} from \"../../redux/propfile-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {FormType} from \"./ProfileInfo/ContentForm/ContentForm\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus:(text:string) => void\r\n    setPhoto:(file:string | Blob) => void\r\n    isAuth: boolean\r\n    isOwner:boolean\r\n    profileUpdateMode:(value:boolean) => void\r\n    updateMode:boolean\r\n    setProfile:(file:FormType)  => void\r\n}\r\nfunction Profile(props:PropsType) {\r\n\r\n    useEffect(() => {\r\n        document.title =  props.profile?.fullName ? props.profile?.fullName : 'Profile'\r\n    },[props.profile?.fullName])\r\n\r\n        if(!props.isAuth){ return <Redirect to={'/login'}/> }\r\n\r\n    return (\r\n        <div className={s.content}>\r\n            <ProfileInfo profile={props.profile}\r\n                         status={props.status}\r\n                         updateStatus={props.updateStatus}\r\n                         isOwner={props.isOwner}\r\n                         setPhoto={props.setPhoto}\r\n                         profileUpdateMode={props.profileUpdateMode}\r\n                         updateMode={props.updateMode}\r\n                         setProfile={props.setProfile}\r\n            />\r\n\r\n            <div className={s.myPostWrap}>\r\n                <MyPostsContainer/>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfile,\r\n    getStatus,\r\n    ProfileType,\r\n    profileUpdateMode,\r\n    setPhoto, setProfile,\r\n    updateStatus\r\n} from \"../../redux/propfile-reducer\";\r\nimport {ReduxStateType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {FormType} from \"./ProfileInfo/ContentForm/ContentForm\";\r\n\r\ntype mapStateToPropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    isAuth: boolean\r\n    authorizedUserId: number | null\r\n    isOwner:boolean\r\n    updateMode:boolean\r\n}\r\n\r\ntype ProfileContainerType = mapStateToPropsType & {\r\n    getProfile:(userId:number) => void\r\n    getStatus:(userId:number) => void\r\n    updateStatus:(text:string) => void\r\n    setPhoto:(file:string | Blob) => void\r\n    profileUpdateMode:(value:boolean) => void\r\n    setProfile:(file:FormType)  => void\r\n}\r\n\r\ntype PathParamsType = { userId: string }\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & ProfileContainerType\r\n\r\n class ProfileContainer extends React.Component<PropsType, {}>{\r\n\r\n  setUserId (){\r\n      let userId = +this.props.match.params.userId;\r\n      if(!userId) {\r\n          this.props.isAuth\r\n              ? userId = Number(this.props.authorizedUserId)\r\n              : this.props.history.push('/login')\r\n      }\r\n      this.props.getProfile(userId)\r\n      this.props.getStatus(userId)\r\n }\r\n\r\n     componentDidMount() {\r\n         this.setUserId()\r\n     }\r\n\r\n     componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n         if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n             this.setUserId()\r\n         }\r\n     }\r\n\r\n\r\n     render(){\r\n        return <Profile {...this.props}\r\n                        profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        updateStatus={this.props.updateStatus}\r\n                        isOwner={!this.props.match.params.userId}\r\n                        setPhoto={this.props.setPhoto}\r\n                        profileUpdateMode={this.props.profileUpdateMode}\r\n                        updateMode={this.props.updateMode}\r\n                        setProfile={this.props.setProfile}\r\n        />\r\n\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: ReduxStateType): mapStateToPropsType => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        isOwner: state.profilePage.isOwner,\r\n        updateMode: state.profilePage.updateMode,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default  compose<React.ComponentType>(connect(mapStateToProps,{setProfile,profileUpdateMode,getStatus,updateStatus,setPhoto,getProfile}),withRouter)(ProfileContainer)\r\n","import React, {useState} from 'react';\r\nimport s from \"./Paginator.module.css\";\r\nimport SuperButton from \"../Button/SuperButton\";\r\n\r\n\r\ntype PaginatorPropsType = {\r\n    onPageChanged: (pageNumber: number) => void\r\n    totalItemsCount: number\r\n    pageSize:number\r\n    currentPage: number\r\n    portionSize:number\r\n}\r\n\r\nexport const Paginator = React.memo((props:PaginatorPropsType) => {\r\n\r\n    let selectedPage = s.selectedPage + ' ' + s.pagination\r\n    const [portionNumber,setPortionNumber] = useState(1)\r\n\r\n     //всего юзеров / кол-во юзеров на странице = кол-во страниц\r\n    const pagesCount = Math.ceil( props.totalItemsCount / props.pageSize)\r\n    const pages:number[] = []\r\n\r\n    for (let i = 1;i <= pagesCount ;i++){ pages.push(i) }\r\n\r\n    // кол-во страниц / \"порцию страниц\"  = кол-во \"порций\" страниц\r\n    const portionCount = Math.ceil(pagesCount  / props.portionSize)\r\n\r\n    const leftPortionSize = (portionNumber - 1) * props.pageSize + 1\r\n    const rightPortionSize = portionNumber * props.pageSize\r\n\r\n    return (\r\n            <div className={s.wrap}>\r\n                {portionNumber > 1 &&\r\n                <SuperButton\r\n                    className={s.button}\r\n                    onClick={() => {setPortionNumber(portionNumber - 1)}}>\r\n                    PREV </SuperButton>}\r\n\r\n                {pages\r\n                    .filter(p => p >= leftPortionSize && p <= rightPortionSize)\r\n                    .map((p ,index) => {\r\n                    return <span\r\n                            key={index}\r\n                            className={props.currentPage === p ? selectedPage : s.pagination}\r\n                            onClick={()=>{props.onPageChanged(p)}}>\r\n                       {p < 10 ? `${' '}${p}${' '}`: p} </span>  })}\r\n\r\n\r\n                {portionCount > portionNumber &&\r\n                <SuperButton\r\n                    className={s.button}\r\n                    style={{marginLeft:'10px'}}\r\n                    onClick={() => {setPortionNumber(portionNumber + 1)}}>\r\n                    NEXT </SuperButton>}\r\n            </div>\r\n)})","import React from 'react';\r\nimport s from \"./Users.module.css\";\r\nimport logo from \"./img/logo2.png\";\r\nimport {FilterType, UsersType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport SuperButton from \"../common/Button/SuperButton\";\r\n\r\ntype UserPropsType = {\r\n    users: UsersType\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    followingInProgress:number[]\r\n}\r\n\r\nexport const User: React.FC<UserPropsType> = ({users,...props}) => {\r\n    let checkedStatus = users.status === null ? 'Hello!' : users.status\r\n\r\n    return (\r\n        <div className={s.userWrap}>\r\n            <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + users.id}>\r\n                            <img src={users.photos.small != null ? users.photos.small : logo} className={s.photo}/>\r\n                        </NavLink>\r\n                </div>\r\n\r\n                </span>\r\n            <span className={s.userInfoWrap}>\r\n                    <span style={{cursor:'default'}}>\r\n                        <div> {users.name}</div>\r\n                        <div  style={{fontStyle:'italic', fontSize:'16px'}}> {checkedStatus}</div>\r\n                    </span>\r\n\r\n                         <div  style={{marginLeft:'-3px'}}>\r\n\r\n                        {  users.followed\r\n                            ? <SuperButton\r\n                                style={{letterSpacing:'1px', fontSize:'14px'}}\r\n                                disabled={props.followingInProgress.some(id => id === users.id)}\r\n                                onClick={() => {props.unFollow(users.id)}}>\r\n                                UNFOLLOW\r\n                            </SuperButton>\r\n                            : <SuperButton  style={{letterSpacing:'1px', fontSize:'14px'}}\r\n                                            disabled={props.followingInProgress.some(id => id === users.id)}\r\n                                            onClick={() => {props.follow(users.id)}}>\r\n                                FOLLOW\r\n                            </SuperButton>\r\n                        }\r\n\r\n                    </div>\r\n                </span>\r\n        </div>\r\n\r\n)}","import {Field, Form, Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport {FilterType} from \"../../redux/users-reducer\";\r\nimport SuperButton from \"../common/Button/SuperButton\";\r\nimport {FormInput, FormSelect, Input} from \"../common/FormsControl/FormsControls\";\r\nimport s from \"./Users.module.css\";\r\n\r\nconst usersSearchValidate = (values: any) => {\r\n    const errors = {};\r\n    return errors;\r\n}\r\ntype PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\ntype FormType = {\r\n    term:string\r\n    friend: 'true' | 'false' | 'null'\r\n}\r\nexport const UsersSearch:React.FC<PropsType> = React.memo((props) => {\r\n\r\n    const submit = (values:FormType, { setSubmitting }:{setSubmitting:(isSubmitting: boolean) => void}) => {\r\n        const filter:FilterType = {\r\n            term:values.term,\r\n            friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n        }\r\n\r\n        props.onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return  <Formik\r\n        initialValues={{ term: '', friend:'null'}}\r\n        validate={usersSearchValidate}\r\n        onSubmit={submit}\r\n    >\r\n        {({ isSubmitting }) => (\r\n            <Form className={s.form} >\r\n                <Field component={FormSelect}  name=\"friend\" type=\"select\" >\r\n                    <option value=\"null\">All</option>\r\n                    <option value=\"true\">Only followed</option>\r\n                    <option value=\"false\">Only unfollowed</option>\r\n                </Field>\r\n                <Field placeholder={'  Find...'}  component={FormInput}  type=\"text\" name=\"term\" />\r\n                <SuperButton style={{width:'20%'}} type=\"submit\" disabled={isSubmitting}>\r\n                    Find\r\n                </SuperButton>\r\n            </Form>\r\n        )}\r\n    </Formik>\r\n})","import React, {useEffect} from 'react';\r\nimport s from \"./Users.module.css\";\r\nimport {FilterType, UsersType} from \"../../redux/users-reducer\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\nimport {UsersSearch} from \"./UsersSearch\";\r\n\r\n\r\ntype UsersPropsType = {\r\n    onPageChanged: (pageNumber: number) => void\r\n    users: UsersType[]\r\n    pageSize: number\r\n    totalUsersCount:number\r\n    currentPage: number\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    followingInProgress:number[]\r\n    portionSize:number\r\n    onFilterChanged:(filter:FilterType) => void\r\n}\r\n\r\nexport const Users : React.FC<UsersPropsType> = (\r\n    {onFilterChanged,users,currentPage,pageSize: usersOnPage,\r\n        onPageChanged,totalUsersCount,portionSize,...props}) => {\r\n\r\n    useEffect(() => {\r\n        document.title = 'Users'\r\n    },[])\r\n\r\n    return (\r\n        <div className={s.wrap}>\r\n            <UsersSearch onFilterChanged={onFilterChanged}/>\r\n            { users.map(u =>\r\n                <User\r\n                users={u}\r\n                key={u.id}\r\n                follow={props.follow}\r\n                unFollow={props.unFollow}\r\n                followingInProgress={props.followingInProgress}\r\n                />)\r\n            }\r\n\r\n                <Paginator\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={usersOnPage}\r\n                portionSize={portionSize}\r\n            />\r\n        </div>\r\n\r\n)}\r\n\r\n\r\n","import {ReduxStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\n\r\nexport const getUsersPageSelector = (state: ReduxStateType) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsersPage = createSelector([getUsersPageSelector],(users) => {\r\n    return users\r\n})\r\n\r\nexport const getPageSize = (state: ReduxStateType) => {\r\n    return state.usersPage.usersOnPage\r\n}\r\n\r\nexport const getTotalUsersCount = (state: ReduxStateType) => {\r\n     return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: ReduxStateType) => {\r\n    return  state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: ReduxStateType) => {\r\n    return  state.usersPage.isFetching\r\n}\r\nexport const portionSize = (state: ReduxStateType) => {\r\n    return  state.usersPage.portionSize\r\n}\r\nexport const getFollowingInProgress = (state: ReduxStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\nexport const getUsersFilter = (state: ReduxStateType) => {\r\n    return state.usersPage.filter\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {ReduxStateType} from \"../../redux/redux-store\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {Users} from \"./Users\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersFilter,\r\n    getUsersPage,\r\n    portionSize\r\n} from \"../../redux/users-selectors\";\r\nimport {actions, FilterType, follow, getPage, getUsers, unFollow, UsersType} from \"../../redux/users-reducer\";\r\n\r\n\r\nexport type mapStateToPropsType = {\r\n    users: UsersType[]\r\n    pageSize: number\r\n    totalUsersCount:number\r\n    currentPage: number\r\n    isFetching:boolean\r\n    followingInProgress:number[]\r\n    portionSize:number\r\n    filter:FilterType\r\n}\r\nexport type dispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    getUsers:(pageSize: number, currentPage: number, filter:FilterType)  => void\r\n    getPage:(pageNumber: number, currentPage: number)  => void\r\n}\r\n\r\ntype UsersPropsType = mapStateToPropsType & dispatchToPropsType\r\n\r\nclass UsersContainer extends React.Component <UsersPropsType,{}>{\r\n\r\n    componentDidMount() {\r\n        const {currentPage,pageSize,filter} =  this.props\r\n        this.props.getUsers(currentPage,pageSize,filter)\r\n    }\r\n    onPageChanged = (pageNumber:number) => {\r\n        const {pageSize,filter} =  this.props\r\n        this.props.getUsers(pageNumber,pageSize,filter)\r\n    }\r\n    onFilterChanged = (filter:FilterType) => {\r\n        const {pageSize} =  this.props\r\n        this.props.getUsers(1,pageSize,filter)\r\n    }\r\n\r\n    render(){\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : ''}\r\n            <Users\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            pageSize={this.props.pageSize}\r\n            currentPage={this.props.currentPage}\r\n            onPageChanged={this.onPageChanged}\r\n            users={this.props.users}\r\n            follow={this.props.follow}\r\n            unFollow={this.props.unFollow}\r\n            followingInProgress={this.props.followingInProgress}\r\n            portionSize={this.props.portionSize}\r\n            onFilterChanged={this.onFilterChanged}\r\n        />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: ReduxStateType):mapStateToPropsType => {\r\n    return {\r\n        users: getUsersPage(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        portionSize: portionSize(state),\r\n        followingInProgress:getFollowingInProgress(state),\r\n        filter:getUsersFilter(state)\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps,\r\n    {follow, unFollow, setUsers:actions.setUsers,\r\n        setCurrentPage:actions.setCurrentPage, setTotalUsersCount:actions.setTotalUsersCount, toggleIsFetching:actions.toggleIsFetching,\r\n        toggleIsFollowingProgress:actions.toggleIsFollowingProgress,getUsers, getPage}), WithAuthRedirect)(UsersContainer)\r\n","import React from 'react'\r\nimport s from './Error404.module.css'\r\n\r\nfunction Error404() {\r\n    return (\r\n\r\n        <div className={s.errorWrap}>\r\n            <div className={s.errorBox}>\r\n                <div className={s.err}>4</div>\r\n                <div className={s.err}>0</div>\r\n                <div className={s.err}>4</div>\r\n            </div>\r\n            <div className={s.msg}>Maybe this page moved? Got deleted? Is hiding out in a secret place? Never existed in\r\n                the first place?<p>Let's go <a href=\"#\">home</a> and try from there.</p></div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Error404\r\n","import React, {lazy, Suspense} from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {HashRouter, Redirect, Route, Switch} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initialize} from \"./redux/app-reducer\";\r\nimport store, {ReduxStateType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport Error404 from './components/common/404/Error404';\r\n\r\n\r\nconst News = lazy(() => import('./components/News/News'));\r\nconst Music = lazy(() => import('./components/Music/Music'));\r\nconst Settings = lazy(() => import('./components/Settings/Settings'));\r\n\r\ntype HeaderContainerType  =  MapStateToPropsType & {\r\n    initialize:() => void\r\n}\r\ntype  MapStateToPropsType = {\r\n    initialized:boolean\r\n}\r\n\r\nclass App extends React.Component<HeaderContainerType, {}> {\r\n    catchAllUnHandledErrors = () => {\r\n        console.log('Some errors')\r\n}\r\n\r\n    componentDidMount() {\r\n        this.props.initialize()\r\n        window.addEventListener('unhandledrejection', this.catchAllUnHandledErrors)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnHandledErrors)\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.initialized) {\r\n            return  <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                    <HeaderContainer/>\r\n                <div className='app-content-wrapper'>\r\n                    <div className='nav-wrapper'>\r\n                        <Navbar/>\r\n                    </div>\r\n                    <div id={'container'} className='content-wrapper'>\r\n                        <Suspense fallback={<Preloader/>}>\r\n                            <Switch>\r\n                                <Route path='/' exact render={() => <Redirect to={'profile'}/>}/>\r\n                                <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                                <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                                <Route path='/users' render={() => <UsersContainer/>}/>\r\n                                <Route path='/login' render={() => <Login/>}/>\r\n                                <Route path='/news' render={() => <News/>}/>\r\n                                <Route path='/music' render={() => <Music/>}/>\r\n                                <Route path='/settings' render={() => <Settings/>}/>\r\n                                <Route render={() => <Error404/>}/>\r\n                            </Switch>\r\n                        </Suspense>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state:ReduxStateType):MapStateToPropsType => ({\r\n    initialized: state.app.initialized,\r\n})\r\nconst AppConnect = connect(mapStateToProps,{initialize}) (App);\r\n\r\n const AppContainer = () => {\r\n return  <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppConnect/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>\r\n}\r\nexport default AppContainer","import React from 'react';\r\nimport './index.css';\r\nimport ReactDOM from \"react-dom\";\r\nimport AppContainer from \"./App\";\r\n\r\n\r\nReactDOM.render(<AppContainer/>, document.getElementById('root'));\r\n\r\n","import {authAPI, ResultCode, securityAPI} from \"../api/api\";\r\nimport {AppThunkType, ReduxStateType} from \"./redux-store\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\n\r\nconst SET_USER_DATA = 'AUTH/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS';\r\n\r\n\r\nexport type AuthActionType = SetUserDataActionType | GetCaptchaURLSuccess\r\ntype SetUserDataActionType = ReturnType<typeof setAuthUserData>\r\ntype GetCaptchaURLSuccess = ReturnType<typeof getCaptchaURLSuccess>\r\n\r\nlet initialState: InitialStateType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth:false,\r\n    captchaURL:null, //if null, captcha not required\r\n}\r\n\r\nexport type InitialStateType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    captchaURL: string | null\r\n}\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: AuthActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n            case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,captchaURL: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId:number| null, email:string| null, login:string| null,isAuth: boolean) => {\r\n    return {\r\n        type: SET_USER_DATA, payload:{userId,email,login,isAuth}\r\n    } as const\r\n}\r\nexport const getCaptchaURLSuccess = (captchaURL: string) => ({type: GET_CAPTCHA_URL_SUCCESS, payload:captchaURL } as const)\r\n\r\n\r\n//with async\r\nexport const authUser = ():AppThunkType =>\r\n    async (dispatch) => {\r\n      let response = await  authAPI.me();\r\n\r\n                if (response.resultCode === ResultCode.Success) {\r\n                    let {id, login, email} = response.data\r\n                    dispatch(setAuthUserData(id, email, login, true))\r\n                }\r\n}\r\nexport const getCaptchaURL = ():AppThunkType =>\r\n    async (dispatch) => {\r\n        const res = await  securityAPI.getCaptchaURL();\r\n\r\n        const captchaURL = res.data.data.url\r\n        dispatch(getCaptchaURLSuccess(captchaURL))\r\n    }\r\nexport const login = (email:string, password:string, rememberMe:boolean, captchaURL:string | null) =>\r\n    async (dispatch: ThunkDispatch<ReduxStateType, unknown, AuthActionType | FormAction>) => {\r\n        let response = await  authAPI.login(email, password, rememberMe,captchaURL);\r\n\r\n                if (response.data.resultCode === ResultCode.Success) {\r\n                    dispatch(authUser())\r\n                } else {\r\n                    if (response.data.resultCode === ResultCode.Captcha) {\r\n                        dispatch(getCaptchaURL())\r\n                    }\r\n                 let message = response.data.messages.length > 0\r\n                     ? response.data.messages\r\n                     : 'Something is wrong'\r\n                    dispatch(stopSubmit('login',{_error: message}))\r\n                }\r\n    }\r\n\r\n//without async\r\nexport const logout = ():AppThunkType => {\r\n    return (dispatch) => {\r\n        authAPI.logout()\r\n            .then(data => {\r\n                if (data.data.resultCode === ResultCode.Success) {\r\n                    dispatch(setAuthUserData(null,null,null,false))\r\n                }\r\n            })\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1PKM2\",\"dialogsItems\":\"Dialogs_dialogsItems__1ohTD\",\"messages\":\"Dialogs_messages__3Age9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Users_wrap__3sWeN\",\"userWrap\":\"Users_userWrap__3H8b4\",\"userInfoWrap\":\"Users_userInfoWrap__1vcPb\",\"photo\":\"Users_photo__38xCo\",\"pagination\":\"Users_pagination__OHGGc\",\"selectedPage\":\"Users_selectedPage__2C9Fy\",\"user\":\"Users_user__2JHGo\",\"form\":\"Users_form__3NEo2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Ozwe\",\"wrap\":\"Header_wrap__2BQLM\",\"opacity\":\"Header_opacity__15-vJ\",\"logo\":\"Header_logo__1sU97\",\"brand\":\"Header_brand__3FSq4\",\"loginBlock\":\"Header_loginBlock__1m390\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__nwlMs\",\"selectedPage\":\"Paginator_selectedPage__1npOX\",\"wrap\":\"Paginator_wrap__2rKXl\",\"button\":\"Paginator_button__1o8_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWrap\":\"Error404_errorWrap__2CV-p\",\"errorBox\":\"Error404_errorBox__28w8r\",\"err\":\"Error404_err__1BdCP\",\"msg\":\"Error404_msg__3FVJL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"SuperButton_default__27ueU\",\"red\":\"SuperButton_red__JH68z\",\"button\":\"SuperButton_button__2oDJ9\",\"blink\":\"SuperButton_blink__G1OxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrap\":\"Login_loginWrap__1wP8M\",\"login\":\"Login_login__H5P_O\",\"auth\":\"Login_auth__1nYT7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__bddHt\",\"posts\":\"MyPosts_posts__1YkW2\",\"header\":\"MyPosts_header__uORGV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Post_content__3MiuU\",\"img\":\"Post_img__1AXZT\",\"message\":\"Post_message__3A_LI\",\"like\":\"Post_like___r4DU\"};","import {authUser} from \"./auth-reducer\";\r\nimport {AppThunkType} from \"./redux-store\";\r\n\r\nconst INITIALIZED_SUCCESS = 'APP/INITIALIZED_SUCCESS';\r\nconst CHANGE_THEME = 'APP/CHANGE_THEME';\r\n\r\n\r\n\r\nlet initialState: InitialStateType = {\r\n    initialized:false,\r\n    theme:'light',\r\n}\r\n\r\nexport type AppActionType = ReturnType<typeof initializedSuccess> | ReturnType<typeof changeTheme>\r\nexport type InitialStateType = {\r\n    initialized:boolean\r\n    theme:string\r\n}\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: AppActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {...state, initialized:true}\r\n        case CHANGE_THEME:{\r\n         return {...state, theme: action.theme}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: INITIALIZED_SUCCESS\r\n    } as const\r\n}\r\nexport const changeTheme = (theme:string) => {\r\n    return {\r\n        type: CHANGE_THEME, theme\r\n    } as const\r\n}\r\n\r\nexport const initialize = (): AppThunkType =>\r\n    (dispatch) => {\r\n        let promise = dispatch(authUser())\r\n        Promise.all([promise])\r\n            .then(() => {\r\n                dispatch(initializedSuccess())\r\n            })\r\n    }\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusInput\":\"ProfileStatus_statusInput__1OUlU\",\"statusInputDiv\":\"ProfileStatus_statusInputDiv__2PCju\",\"changeStatusDiv\":\"ProfileStatus_changeStatusDiv__xTSw0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dragWrap\":\"DragAndDrop_dragWrap__3H0oa\",\"drop\":\"DragAndDrop_drop__2LVRc\",\"drag\":\"DragAndDrop_drag__14r-I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"SuperCheckbox_label__27a1V\",\"checkbox\":\"SuperCheckbox_checkbox__33S5Z\"};"],"sourceRoot":""}