(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{132:function(e,t,n){e.exports={ldsDualRing:"Preloader_ldsDualRing__3yn0R"}},133:function(e,t,n){e.exports={content:"Profile_content__1jbYM"}},16:function(e,t,n){e.exports={nav:"Navbar_nav__3TPlV",item:"Navbar_item__1mjvs",active:"Navbar_active__rcQNT"}},161:function(e,t,n){},165:function(e,t,n){},23:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2knFI",textBlock:"ProfileInfo_textBlock__3HsWL",description:"ProfileInfo_description__2Bnqe",status:"ProfileInfo_status__-qYIm",statusWrap:"ProfileInfo_statusWrap__9NkiC",name:"ProfileInfo_name__2Nfxf",statusInput:"ProfileInfo_statusInput__2viNo",statusInputDiv:"ProfileInfo_statusInputDiv__2gnHC",changeStatusDiv:"ProfileInfo_changeStatusDiv__QS8I-",wallpaper:"ProfileInfo_wallpaper__1h6KX"}},26:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1PKM2",dialogsItems:"Dialogs_dialogsItems__1ohTD",active:"Dialogs_active__1ssKt",dialog:"Dialogs_dialog__2tEBf",messages:"Dialogs_messages__3Age9"}},28:function(e,t,n){e.exports={"form-control":"FormsControls_form-control__3UWpJ",input:"FormsControls_input__3tU5n",textarea:"FormsControls_textarea__2A0lr",errorInput:"FormsControls_errorInput__ShC7f",errorTextarea:"FormsControls_errorTextarea__8lQff",errorSpan:"FormsControls_errorSpan__1qZvi"}},289:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=(n(161),n(72)),i=n.n(a),c=n(31),o=n(32),u=n(35),l=n(34),d=(n(165),n(12)),j=n(16),p=n.n(j),f=n(0);var b=function(){return Object(f.jsxs)("nav",{className:p.a.nav,children:[Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/profile",activeClassName:p.a.active,children:"Profile"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/dialogs",activeClassName:p.a.active,children:" Messages"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/users",activeClassName:p.a.active,children:" Users"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/news",activeClassName:p.a.active,children:"News"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/music",activeClassName:p.a.active,children:"Music"})}),Object(f.jsx)("div",{className:p.a.item,children:Object(f.jsx)(d.b,{to:"/settings",activeClassName:p.a.active,children:"Settings"})})]})},h=n(10),O=n(40),g=n(3),m="DIALOGS/SEND_MESSAGE",x={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Anya"},{id:4,name:"Sveta"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,messages:"Hi"},{id:2,messages:"How are you?"},{id:3,messages:"Good"}]},v=n(41),_=n(26),S=n.n(_);var P=function(e){var t="/dialogs/"+e.id;return Object(f.jsx)("div",{className:S.a.dialog+" "+S.a.active,children:Object(f.jsxs)(d.b,{to:t,children:[" ",e.name]})})};var w=function(e){return Object(f.jsx)("div",{className:S.a.dialog,children:e.message})},N=n(127),y=n(128),I=n(22),C=n(28),k=n.n(C),E=["input","meta","value"],U=["input","meta"],T=function(e){var t=e.input,n=e.meta,s=e.value,r=Object(I.a)(e,E),a=n.touched&&n.error?k.a.errorTextarea+" "+k.a.textarea:k.a.textarea;return Object(f.jsxs)("div",{children:[Object(f.jsx)("textarea",Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({className:a},r),s),t),n)),Object(f.jsx)("div",{children:n.touched&&n.error&&Object(f.jsxs)("span",{className:k.a.errorSpan,children:[" ",n.error]})})]})},F=function(e){var t=e.input,n=e.meta,s=Object(I.a)(e,U),r=n.touched&&n.error?k.a.errorTextarea+" "+k.a.textarea:k.a.textarea;return Object(f.jsxs)("div",{children:[Object(f.jsx)("input",Object(g.a)(Object(g.a)(Object(g.a)({className:r},s),t),n)),Object(f.jsx)("div",{children:n.touched&&n.error&&Object(f.jsxs)("span",{className:k.a.errorSpan,children:[" ",n.error]})})]})},z=function(e){if(!e)return"Field is required"},D=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},L=function(e){return function(t){if(t&&t.length<e)return"Min length is ".concat(e," symbols")}},A=n(60),M=n.n(A),R=["red","className"],B=function(e){var t=e.red,n=e.className,s=Object(I.a)(e,R),r="".concat(t?M.a.red+" "+M.a.default:M.a.default," ").concat(n," ").concat(M.a.button);return Object(f.jsx)("button",Object(g.a)({className:r},s))};var W=D(40),H=L(4),G=Object(y.a)({form:"dialogAddMessageForm"})((function(e){var t=Object(s.useState)("asD12"),n=Object(v.a)(t,2),r=n[0],a=n[1];return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(N.a,{value:r,onChange:function(e){a(null===e||void 0===e?void 0:e.currentTarget.value)},placeholder:"Enter your message",style:{margin:"10px 0"},validate:[z,W,H],name:"newMessageBody",component:T})}),Object(f.jsx)(B,{onClick:function(){a("")},style:{width:"120px"},children:"Send message"})]})})})),X=function(e){Object(s.useEffect)((function(){document.title="Messages"}),[]);var t=e.dialogsPage.dialogs.map((function(e){return Object(f.jsx)(P,{name:e.name,id:e.id},e.id)})),n=e.dialogsPage.messages.map((function(e){return Object(f.jsx)(w,{message:e.messages},e.id)}));return Object(f.jsxs)("div",{className:S.a.dialogs,children:[Object(f.jsx)("div",{className:S.a.dialogsItems,children:t}),Object(f.jsxs)("div",{className:S.a.messages,children:[n,Object(f.jsx)("div",{children:Object(f.jsx)(G,{onSubmit:function(t){e.sendMessage(t.newMessageBody),console.log(t)}})})]})]})},V=n(11),Y=n(9),K=["auth"],q=function(e){return{auth:e.auth.isAuth}};function Q(e){return Object(V.b)(q)((function(t){t.auth;var n=Object(I.a)(t,K);return t.auth?Object(f.jsx)(e,Object(g.a)({},n)):Object(f.jsx)(h.a,{to:"/Login"})}))}var J=Object(Y.d)(Object(V.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e({type:m,newMessageBody:t})}}})),Q)(X),Z=n(50),$=n.n(Z),ee=n.p+"static/media/rocket33.bf84b78f.png";var te,ne=function(e){return Object(f.jsx)("header",{className:$.a.header,children:Object(f.jsxs)("div",{className:$.a.wrap,children:[Object(f.jsxs)("div",{className:$.a.logo,children:[" ",Object(f.jsx)("img",{src:ee,alt:""})," ",Object(f.jsx)("div",{className:$.a.brand,children:"SOCIAL NETWORK "})," "]}),Object(f.jsx)("div",{className:$.a.loginBlock,children:e.isAuth?Object(f.jsxs)("div",{children:[Object(f.jsxs)(d.b,{to:"./profile",children:[" ",e.login," "]}),Object(f.jsx)(B,{style:{fontSize:"12px",width:"60px",margin:"0 0 0 8px",padding:"4px"},onClick:e.logout,children:"Log out"})]}):Object(f.jsx)(d.b,{to:"./Login",children:" Login "})})]})})},se=n(14),re=n.n(se),ae=n(27),ie=n(97),ce=n.n(ie);!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(te||(te={}));var oe=ce.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"7e928b19-02e3-4839-a906-80cc9541b152"}}),ue={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return oe.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return oe.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowUser:function(e){return oe.delete("follow/".concat(e)).then((function(e){return e.data}))},authUser:function(){return ce.a.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(e){return e.data}))}},le=function(){return oe.get("auth/me",{}).then((function(e){return e.data}))},de=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oe.post("auth/login",{email:e,password:t,rememberMe:n})},je=function(){return oe.delete("auth/login")},pe=function(e){return oe.get("profile/"+e).then((function(e){return e}))},fe=function(e){return oe.get("profile/status/"+e)},be=function(e){return oe.put("profile/status/",{status:e})},he=n(44),Oe="AUTH/SET_USER_DATA",ge={userId:16107,email:null,login:null,isAuth:!1},me=function(e,t,n,s){return{type:Oe,payload:{userId:e,email:t,login:n,isAuth:s}}},xe=function(){return function(){var e=Object(ae.a)(re.a.mark((function e(t){var n,s,r,a,i;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:(n=e.sent).resultCode===te.Success&&(s=n.data,r=s.id,a=s.login,i=s.email,t(me(r,i,a,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsx)(ne,Object(g.a)({},this.props))}}]),n}(r.a.Component),_e=Object(V.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{authUser:xe,logout:function(){return function(e){je().then((function(t){t.data.resultCode===te.Success&&e(me(null,null,null,!1))}))}}})(ve),Se=n(61),Pe=n.n(Se),we=D(20),Ne=L(4),ye=Object(y.a)({form:"login"})((function(e){return Object(s.useEffect)((function(){document.title="Login"}),[]),Object(f.jsx)("div",{children:Object(f.jsxs)("form",{className:Pe.a.loginWrap,onSubmit:e.handleSubmit,children:[Object(f.jsx)("p",{className:Pe.a.login,children:"Sign in"}),Object(f.jsxs)("div",{className:Pe.a.auth,children:[Object(f.jsxs)("p",{children:[" You can use this app with default authorization or register",Object(f.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:" here"})]}),Object(f.jsx)("p",{children:" Email: free@samuraijs.com"}),Object(f.jsx)("p",{children:"Password: free"})]}),Object(f.jsx)("div",{children:Object(f.jsx)(N.a,{placeholder:"   Email",style:{height:"35px",width:"100%"},validate:[z],name:"email",component:F})}),Object(f.jsx)("div",{children:Object(f.jsx)(N.a,{placeholder:"   Password",style:{height:"35px",width:"100%"},validate:[z,we,Ne],type:"password",name:"password",component:F})}),Object(f.jsxs)("div",{style:{display:"flex",marginTop:"5px"},children:[Object(f.jsx)(N.a,{style:{marginRight:"8px"},component:"input",name:"rememberMe",type:"checkbox"}),Object(f.jsx)("p",{style:{marginTop:"-6px"},children:"Remember me"})]}),Object(f.jsx)("div",{children:Object(f.jsx)(B,{children:" Login"})}),e.error&&Object(f.jsx)("div",{className:Pe.a.errorTextarea,children:e.error})]})})})),Ie=Object(V.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var s=Object(ae.a)(re.a.mark((function s(r){var a,i;return re.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,de(e,t,n);case 2:(a=s.sent).data.resultCode===te.Success?r(xe()):(i=a.data.messages.length>0?a.data.messages:"Something is wrong",r(Object(he.a)("login",{_error:i})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(f.jsx)(h.a,{to:"/profile"}):Object(f.jsx)("div",{children:Object(f.jsx)(ye,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})})})),Ce="APP/INITIALIZED_SUCCESS",ke={initialized:!1},Ee={},Ue="PROFILE/ADD-POST",Te="PROFILE/SET_USER_PROFILE",Fe="PROFILE/SET_STATUS",ze="PROFILE/DELETE_POST",De={posts:[{id:1,messages:"Falcon 9\u2019s first stage has landed on!",likesCount:11},{id:2,messages:"Yuri Gagarin was the first person to fly in space.",likesCount:41}],newPostText:"",profile:null,status:"Hello!"},Le=function(e){return{type:Fe,text:e}},Ae="USERS/FOLLOW",Me="USERS/UNFOLLOW",Re="USERS/SET_USERS",Be="USERS/SET_CURRENT_PAGE",We="USERS/SET_TOTAL_USERS_COUNT",He="USERS/TOGGLE_IS_FETCHING",Ge="USERS/TOGGLE_IS_FOLLOWING_PROGRESS",Xe={users:[],usersOnPage:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],portionSize:15},Ve=function(e){return{type:Ae,userID:e}},Ye=function(e){return{type:Me,userID:e}},Ke=function(e){return{type:Re,users:e}},qe=function(e){return{type:Be,currentPage:e}},Qe=function(e){return{type:We,totalCount:e}},Je=function(e){return{type:He,isFetching:e}},Ze=function(e,t){return{type:Ge,followingInProgress:e,userId:t}},$e=function(){var e=Object(ae.a)(re.a.mark((function e(t,n,s,r){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Ze(!0,t)),e.next=3,s(t);case 3:0===e.sent.resultCode&&n(r(t)),n(Ze(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,r){return e.apply(this,arguments)}}(),et=n(131),tt=n(129),nt=Object(Y.c)({sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee;return e},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var n=t.newMessageBody;return Object(g.a)(Object(g.a)({},e),{},{messages:[].concat(Object(O.a)(e.messages),[{id:(new Date).getTime(),messages:n}])});default:return e}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:var n={id:(new Date).getTime(),messages:t.newPostText,likesCount:0};return Object(g.a)(Object(g.a)({},e),{},{newPostText:"",posts:[n].concat(Object(O.a)(e.posts))});case Fe:return Object(g.a)(Object(g.a)({},e),{},{status:t.text});case Te:return Object(g.a)(Object(g.a)({},e),{},{profile:t.profile});case ze:return Object(g.a)(Object(g.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(g.a)(Object(g.a)({},e),{},{followed:!0}):e}))});case Me:return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(g.a)(Object(g.a)({},e),{},{followed:!1}):e}))});case Re:return Object(g.a)(Object(g.a)({},e),{},{users:Object(O.a)(t.users)});case Be:return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.currentPage});case We:return Object(g.a)(Object(g.a)({},e),{},{totalUsersCount:t.totalCount});case He:return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case Ge:return Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(O.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(g.a)(Object(g.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}},form:tt.a}),st=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,rt=Object(Y.e)(nt,st(Object(Y.a)(et.a))),at=n(132),it=n.n(at),ct=function(){return Object(f.jsx)("div",{className:it.a.ldsDualRing})},ot=n(62),ut=n.n(ot),lt=n(63),dt=n.n(lt),jt=n.p+"static/media/img.1c5b1442.webp";var pt=function(e){return Object(f.jsxs)("div",{className:dt.a.content,children:[Object(f.jsx)("div",{className:dt.a.img,children:Object(f.jsx)("img",{src:jt,alt:""})}),Object(f.jsxs)("div",{className:dt.a.message,children:[" ",e.message]}),Object(f.jsxs)("div",{className:dt.a.like,children:["like ",e.like]})]})},ft=r.a.memo((function(e){var t=e.posts.map((function(e){return Object(f.jsx)(pt,{message:e.messages,like:e.likesCount})}));return Object(f.jsxs)("div",{className:ut.a.content,children:[Object(f.jsxs)("div",{className:ut.a.postBlock,children:[Object(f.jsx)("div",{className:ut.a.header,children:Object(f.jsx)("h4",{children:" My publications."})}),Object(f.jsx)(Ot,{onSubmit:function(t){e.onClick(t.newPostText)}})]}),Object(f.jsx)("div",{className:ut.a.posts,children:t})]})})),bt=D(20),ht=L(4),Ot=Object(y.a)({form:"profileAddMessageForm"})((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(N.a,{placeholder:"  Enter your message",style:{margin:"10px 0"},name:"newPostText",component:T,validate:[z,bt,ht]})}),Object(f.jsx)(B,{children:"Publish"})]})})})),gt=ft,mt=Object(V.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{onClick:function(t){e({type:Ue,newPostText:t})}}}))(gt),xt=n(23),vt=n.n(xt),_t=function(e){var t=Object(s.useState)(!0),n=Object(v.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(e.status),c=Object(v.a)(i,2),o=c[0],u=c[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);var l=null===e.status?"Hello!":e.status;return Object(f.jsxs)("div",{children:[r&&Object(f.jsx)("div",{className:vt.a.statusInputDiv,children:Object(f.jsx)("span",{onDoubleClick:function(){a(!1)},children:l})}),!r&&Object(f.jsx)("div",{className:vt.a.changeStatusDiv,children:Object(f.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){e.updateStatus(o),a(!0)},className:vt.a.statusInput,type:"text",value:o})})]})};var St=function(e){if(!e.profile)return Object(f.jsx)(ct,{});var t=e.profile.photos.small?e.profile.photos.large:jt,n=Object(f.jsx)("img",{src:t});return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:vt.a.descriptionBlock,children:[Object(f.jsx)("div",{children:n}),Object(f.jsxs)("div",{className:vt.a.textBlock,children:[Object(f.jsxs)("div",{className:vt.a.status,children:[Object(f.jsxs)("div",{className:vt.a.name,children:[e.profile.fullName," "]}),Object(f.jsxs)("div",{className:vt.a.statusWrap,children:[Object(f.jsx)("p",{style:{marginRight:"10px"},children:" Status: "}),Object(f.jsx)(_t,{updateStatus:e.updateStatus,status:e.status})]})]}),Object(f.jsx)("div",{className:vt.a.description,children:"Do you know that Falcon 9 is a reusable, two-stage rocket manufactured by SpaceX for the reliable and safe transport of people and payloads into Earth orbit and beyond? Now you know."})]})]})})},Pt=n(133),wt=n.n(Pt);var Nt=function(e){var t;return Object(s.useEffect)((function(){var t,n;document.title=(null===(t=e.profile)||void 0===t?void 0:t.fullName)?null===(n=e.profile)||void 0===n?void 0:n.fullName:"Profile"}),[null===(t=e.profile)||void 0===t?void 0:t.fullName]),e.isAuth?Object(f.jsxs)("div",{className:wt.a.content,children:[Object(f.jsx)(St,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(f.jsx)(mt,{})]}):Object(f.jsx)(h.a,{to:"/login"})},yt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.userId;e||(this.props.isAuth?e=Number(this.props.authorizedUserId):this.props.history.push("/login")),this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(f.jsx)(Nt,Object(g.a)(Object(g.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),It=Object(Y.d)(Object(V.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getStatus:function(e){return function(t){fe(e).then((function(e){t(Le(e.data))}))}},updateStatus:function(e){return function(t){be(e).then((function(n){0===n.data.resultCode&&t(Le(e))}))}},getProfile:function(e){return function(t){pe(e).then((function(e){var n;t((n=e.data,{type:Te,profile:n}))}))}}}),h.f)(yt),Ct=n(49),kt=n.n(Ct),Et=n(42),Ut=n.n(Et),Tt=r.a.memo((function(e){for(var t=Ut.a.selectedPage+" "+Ut.a.pagination,n=Object(s.useState)(1),r=Object(v.a)(n,2),a=r[0],i=r[1],c=Math.ceil(e.totalItemsCount/e.pageSize),o=[],u=1;u<=c;u++)o.push(u);var l=Math.ceil(c/e.portionSize),d=(a-1)*e.pageSize+1,j=a*e.pageSize;return Object(f.jsxs)("div",{className:Ut.a.wrap,children:[a>1&&Object(f.jsx)(B,{className:Ut.a.button,onClick:function(){i(a-1)},children:"PREV "}),o.filter((function(e){return e>=d&&e<=j})).map((function(n){return Object(f.jsxs)("span",{className:e.currentPage===n?t:Ut.a.pagination,onClick:function(){e.onPageChanged(n)},children:[n," "]})})),l>a&&Object(f.jsx)(B,{className:Ut.a.button,style:{marginLeft:"10px"},onClick:function(){i(a+1)},children:"NEXT "})]})})),Ft=n.p+"static/media/logo2.73c0cc36.png",zt=["users"],Dt=function(e){var t=e.users,n=Object(I.a)(e,zt),s=null===t.status?"Hello!":t.status;return Object(f.jsxs)("div",{className:kt.a.userWrap,children:[Object(f.jsx)("span",{children:Object(f.jsx)("div",{children:Object(f.jsx)(d.b,{to:"/profile/"+t.id,children:Object(f.jsx)("img",{src:null!=t.photos.small?t.photos.small:Ft,className:kt.a.photo})})})}),Object(f.jsxs)("span",{className:kt.a.userInfoWrap,children:[Object(f.jsxs)("span",{style:{cursor:"default"},children:[Object(f.jsxs)("div",{children:[" ",t.name]}),Object(f.jsxs)("div",{style:{fontStyle:"italic",fontSize:"16px"},children:[" ",s]})]}),Object(f.jsx)("div",{style:{marginLeft:"-3px"},children:t.followed?Object(f.jsx)(B,{style:{letterSpacing:"1px",fontSize:"14px"},disabled:n.followingInProgress.some((function(e){return e===t.id})),onClick:function(){n.unFollow(t.id)},children:"UNFOLLOW"}):Object(f.jsx)(B,{style:{letterSpacing:"1px",fontSize:"14px"},disabled:n.followingInProgress.some((function(e){return e===t.id})),onClick:function(){n.follow(t.id)},children:"FOLLOW"})})]})]})},Lt=["users","currentPage","pageSize","onPageChanged","totalUsersCount","portionSize"],At=function(e){var t=e.users,n=e.currentPage,r=e.pageSize,a=e.onPageChanged,i=e.totalUsersCount,c=e.portionSize,o=Object(I.a)(e,Lt);return Object(s.useEffect)((function(){document.title="Users"}),[]),Object(f.jsxs)("div",{className:kt.a.wrap,children:[t.map((function(e){return Object(f.jsx)(Dt,{users:e,follow:o.follow,unFollow:o.unFollow,followingInProgress:o.followingInProgress},e.id)})),Object(f.jsx)(Tt,{currentPage:n,onPageChanged:a,totalItemsCount:i,pageSize:r,portionSize:c})]})},Mt=n(134),Rt=Object(Mt.a)([function(e){return e.usersPage.users}],(function(e){return e})),Bt=function(e){return e.usersPage.usersOnPage},Wt=function(e){return e.usersPage.totalUsersCount},Ht=function(e){return e.usersPage.currentPage},Gt=function(e){return e.usersPage.isFetching},Xt=function(e){return e.usersPage.portionSize},Vt=function(e){return e.usersPage.followingInProgress},Yt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getPage(t,n)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[this.props.isFetching?Object(f.jsx)(ct,{}):"",Object(f.jsx)(At,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unFollow:this.props.unFollow,followingInProgress:this.props.followingInProgress,portionSize:this.props.portionSize})]})}}]),n}(r.a.Component),Kt=Object(Y.d)(Object(V.b)((function(e){return{users:Rt(e),pageSize:Bt(e),totalUsersCount:Wt(e),currentPage:Ht(e),isFetching:Gt(e),portionSize:Xt(e),followingInProgress:Vt(e)}}),{follow:function(e){return function(){var t=Object(ae.a)(re.a.mark((function t(n){var s;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=ue.followUser.bind(ue),$e(e,n,s,Ve);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(ae.a)(re.a.mark((function t(n){var s;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=ue.unFollowUser.bind(ue),$e(e,n,s,Ye);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUsers:Ke,setCurrentPage:qe,setTotalUsersCount:Qe,toggleIsFetching:Je,toggleIsFollowingProgress:Ze,getUsers:function(e,t){return function(){var n=Object(ae.a)(re.a.mark((function n(s){var r;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(Je(!0)),s(qe(e)),n.next=4,ue.getUsers(e,t);case 4:r=n.sent,s(Je(!1)),s(Ke(r.items)),s(Qe(r.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getPage:function(e,t){return function(){var n=Object(ae.a)(re.a.mark((function n(s){var r;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(qe(e)),s(Je(!0)),n.next=4,ue.getUsers(e,t);case 4:r=n.sent,s(Je(!1)),s(Ke(r.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),Q)(Yt),qt=Object(s.lazy)((function(){return n.e(4).then(n.bind(null,290))})),Qt=Object(s.lazy)((function(){return n.e(3).then(n.bind(null,291))})),Jt=Object(s.lazy)((function(){return n.e(5).then(n.bind(null,292))})),Zt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"render",value:function(){return this.props.initialized?Object(f.jsxs)("div",{className:"app-wrapper",children:[Object(f.jsx)(_e,{}),Object(f.jsxs)("div",{className:"app-content-wrapper",children:[Object(f.jsx)("div",{className:"nav-wrapper",children:Object(f.jsx)(b,{})}),Object(f.jsx)("div",{className:"content-wrapper",children:Object(f.jsxs)(s.Suspense,{fallback:Object(f.jsx)(ct,{}),children:[Object(f.jsx)(h.b,{path:"/",exact:!0,render:function(){return Object(f.jsx)(h.a,{to:"profile"})}}),Object(f.jsx)(h.b,{path:"/ReactSocial",exact:!0,render:function(){return Object(f.jsx)(h.a,{to:"profile"})}}),Object(f.jsx)(h.b,{path:"/profile/:userId?",render:function(){return Object(f.jsx)(It,{})}}),Object(f.jsx)(h.b,{path:"/dialogs",render:function(){return Object(f.jsx)(J,{})}}),Object(f.jsx)(h.b,{path:"/users",render:function(){return Object(f.jsx)(Kt,{})}}),Object(f.jsx)(h.b,{path:"/login",render:function(){return Object(f.jsx)(Ie,{})}}),Object(f.jsx)(h.b,{path:"/news",render:function(){return Object(f.jsx)(qt,{})}}),Object(f.jsx)(h.b,{path:"/music",render:function(){return Object(f.jsx)(Qt,{})}}),Object(f.jsx)(h.b,{path:"/settings",render:function(){return Object(f.jsx)(Jt,{})}})]})})]})]}):Object(f.jsx)(ct,{})}}]),n}(r.a.Component),$t=Object(V.b)((function(e){return{initialized:e.app.initialized}}),{initialize:function(){return function(e){var t=e(xe());Promise.all([t]).then((function(){e({type:Ce})}))}}})(Zt),en=function(){return Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(d.a,{children:Object(f.jsx)(V.a,{store:rt,children:Object(f.jsx)($t,{})})})})};i.a.render(Object(f.jsx)(en,{}),document.getElementById("root"))},42:function(e,t,n){e.exports={pagination:"Paginator_pagination__nwlMs",selectedPage:"Paginator_selectedPage__1npOX",wrap:"Paginator_wrap__2rKXl",button:"Paginator_button__1o8_k"}},49:function(e,t,n){e.exports={wrap:"Users_wrap__3sWeN",userWrap:"Users_userWrap__3H8b4",userInfoWrap:"Users_userInfoWrap__1vcPb",photo:"Users_photo__38xCo",pagination:"Users_pagination__OHGGc",selectedPage:"Users_selectedPage__2C9Fy",user:"Users_user__2JHGo"}},50:function(e,t,n){e.exports={header:"Header_header__2Ozwe",wrap:"Header_wrap__2BQLM",logo:"Header_logo__1sU97",brand:"Header_brand__3FSq4",loginBlock:"Header_loginBlock__1m390"}},60:function(e,t,n){e.exports={default:"SuperButton_default__3kQ5e",red:"SuperButton_red__1nNl2",button:"SuperButton_button__8zyzT",blink:"SuperButton_blink__3b_VN"}},61:function(e,t,n){e.exports={loginWrap:"Login_loginWrap__1wP8M",login:"Login_login__H5P_O",auth:"Login_auth__1nYT7"}},62:function(e,t,n){e.exports={content:"MyPosts_content__bddHt",posts:"MyPosts_posts__1YkW2",header:"MyPosts_header__uORGV"}},63:function(e,t,n){e.exports={content:"Post_content__3MiuU",img:"Post_img__1AXZT",message:"Post_message__3A_LI",like:"Post_like___r4DU"}}},[[289,1,2]]]);
//# sourceMappingURL=main.b4c97775.chunk.js.map