(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2knFI",detailsWrap:"ProfileInfo_detailsWrap__2HAQd",details:"ProfileInfo_details__2yjPH",img:"ProfileInfo_img__168ug",textBlock:"ProfileInfo_textBlock__3HsWL",description:"ProfileInfo_description__2Bnqe",contentWrap:"ProfileInfo_contentWrap__1ttk9",fragmentWrap:"ProfileInfo_fragmentWrap__1flSx",contentForm:"ProfileInfo_contentForm__1pRBU",name:"ProfileInfo_name__2Nfxf",content:"ProfileInfo_content__1ZaTQ"}},114:function(e,t,n){e.exports={content:"Profile_content__1jbYM",myPostWrap:"Profile_myPostWrap__2Mtbr"}},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u}));var r,a=n(113),s=n.n(a);!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Captcha=10]="Captcha"}(r||(r={}));var o=s.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"7e928b19-02e3-4839-a906-80cc9541b152"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===r?"":"&friend=".concat(r);return o.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+a).then((function(e){return e.data}))},followUser:function(e){return o.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowUser:function(e){return o.delete("follow/".concat(e)).then((function(e){return e.data}))},authUser:function(){return s.a.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(e){return e.data}))}},i={me:function(){return o.get("auth/me",{}).then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o.post("auth/login",{email:e,password:t,rememberMe:n,captchaURL:r})},logout:function(){return o.delete("auth/login")}},l={getProfile:function(e){return o.get("profile/"+e).then((function(e){return e}))},getStatus:function(e){return o.get("profile/status/"+e)},setPhoto:function(e){var t=new FormData;return t.append("image",e),o.put("/profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},setProfile:function(e){return o.put("profile",e)},updateStatus:function(e){return o.put("profile/status/",{status:e})}},u={getCaptchaURL:function(){return o.get(" /security/get-captcha-url/")}}},148:function(e,t,n){e.exports={ldsDualRing:"Preloader_ldsDualRing__3yn0R"}},15:function(e,t,n){e.exports={"form-control":"FormsControls_form-control__3UWpJ",input:"FormsControls_input__3tU5n",textarea:"FormsControls_textarea__2A0lr",errorInput:"FormsControls_errorInput__ShC7f",errorTextarea:"FormsControls_errorTextarea__8lQff",errorSpan:"FormsControls_errorSpan__1qZvi",formClass:"FormsControls_formClass__3UCOD"}},17:function(e,t,n){"use strict";var r=n(3),a=n(19),s=(n(1),n(69)),o=n.n(s),c=n(0),i=["red","className"];t.a=function(e){var t=e.red,n=e.className,s=Object(a.a)(e,i),l="".concat(t?o.a.red+" "+o.a.default:o.a.default," ").concat(n," ").concat(o.a.button);return Object(c.jsx)("button",Object(r.a)({className:l},s))}},178:function(e,t,n){},182:function(e,t,n){},22:function(e,t,n){e.exports={nav:"Navbar_nav__3TPlV",item:"Navbar_item__1mjvs",active:"Navbar_active__rcQNT",opacity:"Navbar_opacity__2g_2X"}},305:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=(n(178),n(82)),o=n.n(s),c=n(41),i=n(42),l=n(45),u=n(44),d=(n(182),n(16)),p=n(22),j=n.n(p),f=n(11),b=n(0);var h=function(){var e="dark"===Object(f.d)((function(e){return e.app.theme}))?j.a.nav:j.a.nav+" "+j.a.opacity;return Object(b.jsxs)("nav",{className:e,children:[Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(d.b,{to:"/profile",activeClassName:j.a.active,children:"Profile"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(d.b,{to:"/dialogs",activeClassName:j.a.active,children:" Messages"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(d.b,{to:"/users",activeClassName:j.a.active,children:" Users"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(d.b,{to:"/news",activeClassName:j.a.active,children:"News"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(d.b,{to:"/music",activeClassName:j.a.active,children:"Music"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(d.b,{to:"/settings",activeClassName:j.a.active,children:"Settings"})})]})},O=n(14),g=n(51),m=n(3),x="DIALOGS/SEND_MESSAGE",v={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Anya"},{id:4,name:"Sveta"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,messages:"Hi"},{id:2,messages:"How are you?"},{id:3,messages:"Good"}]},_=n(29),P=n(36),w=n.n(P);var y=function(e){var t="/dialogs/"+e.id;return Object(b.jsx)("div",{className:w.a.dialog+" "+w.a.active,children:Object(b.jsxs)(d.b,{style:{color:"black"},to:t,children:[" ",e.name]})})};var S=function(e){return Object(b.jsx)("div",{className:w.a.dialog,children:e.message})},N=n(143),C=n(144),k=n(19),I=n(15),U=n.n(I),F=["input","meta","value"],E=["input","meta"],T=["field","form"],M=["children","field","form"],D=function(e){var t=e.input,n=e.meta,r=e.value,a=Object(k.a)(e,F),s=n.touched&&n.error?U.a.errorTextarea+" "+U.a.textarea:U.a.textarea;return Object(b.jsxs)("div",{children:[Object(b.jsx)("textarea",Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({className:s},a),r),t),n)),Object(b.jsx)("div",{children:n.touched&&n.error&&Object(b.jsxs)("span",{className:U.a.errorSpan,children:[" ",n.error]})})]})},L=function(e){var t=e.input,n=e.meta,r=Object(k.a)(e,E),a=n.touched&&n.error?U.a.errorTextarea+" "+U.a.textarea:U.a.textarea;return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",Object(m.a)(Object(m.a)(Object(m.a)({className:a},r),t),n)),Object(b.jsx)("div",{children:n.touched&&n.error&&Object(b.jsxs)("span",{className:U.a.errorSpan,children:[" ",n.error]})})]})},A=function(e){var t=e.field,n=e.form,r=n.touched,a=n.errors,s=Object(k.a)(e,T),o=r[t.name]&&a[t.name]?U.a.errorTextarea+" "+U.a.textarea+" "+U.a.formClass:U.a.textarea+" "+U.a.formClass;return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",Object(m.a)(Object(m.a)({className:o},t),s)),Object(b.jsx)("div",{children:r[t.name]&&a[t.name]&&Object(b.jsxs)("span",{className:U.a.errorSpan,children:[" ",a[t.name]]})})]})},W=function(e){var t=e.children,n=e.field,r=e.form,a=r.touched,s=r.errors,o=Object(k.a)(e,M),c=a[n.name]&&s[n.name]?U.a.errorTextarea+" "+U.a.textarea+" "+U.a.formClass:U.a.textarea+" "+U.a.formClass;return Object(b.jsxs)("div",{children:[Object(b.jsx)("select",Object(m.a)(Object(m.a)(Object(m.a)({className:c},n),o),{},{children:t})),Object(b.jsx)("div",{children:a[n.name]&&s[n.name]&&Object(b.jsxs)("span",{className:U.a.errorSpan,children:[" ",s[n.name]]})})]})},R=function(e){if(!e)return"Field is required"},z=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},H=function(e){return function(t){if(t&&t.length<e)return"Min length is ".concat(e," symbols")}},G=n(17);var B=z(40),J=H(4),V=Object(C.a)({form:"dialogAddMessageForm"})((function(e){var t=Object(r.useState)("asD12"),n=Object(_.a)(t,2),a=n[0],s=n[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(N.a,{value:a,onChange:function(e){s(null===e||void 0===e?void 0:e.currentTarget.value)},placeholder:"Enter your message",style:{margin:"10px 0"},validate:[R,B,J],name:"newMessageBody",component:D})}),Object(b.jsx)(G.a,{onClick:function(){s("")},style:{width:"120px"},children:"Send message"})]})})})),X=function(e){Object(r.useEffect)((function(){document.title="Messages"}),[]);var t=e.dialogsPage.dialogs.map((function(e){return Object(b.jsx)(y,{name:e.name,id:e.id},e.id)})),n=e.dialogsPage.messages.map((function(e){return Object(b.jsx)(S,{message:e.messages},e.id)}));return Object(b.jsxs)("div",{className:w.a.dialogs,children:[Object(b.jsx)("div",{className:w.a.dialogsItems,children:t}),Object(b.jsxs)("div",{className:w.a.messages,children:[n,Object(b.jsx)("div",{children:Object(b.jsx)(V,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})})]})]})},Y=n(12),K=["auth"],Q=function(e){return{auth:e.auth.isAuth}};function Z(e){return Object(f.b)(Q)((function(t){t.auth;var n=Object(k.a)(t,K);return t.auth?Object(b.jsx)(e,Object(m.a)({},n)):Object(b.jsx)(O.a,{to:"/login"})}))}var q=Object(Y.d)(Object(f.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e({type:x,newMessageBody:t})}}})),Z)(X),$=n(47),ee=n.n($),te=n.p+"static/media/rocket33.bf84b78f.png";var ne=function(e){var t="dark"===Object(f.d)((function(e){return e.app.theme}))?ee.a.header:ee.a.header+" "+ee.a.opacity;return Object(b.jsx)("header",{className:t,children:Object(b.jsxs)("div",{className:ee.a.wrap,children:[Object(b.jsxs)("div",{className:ee.a.logo,children:[" ",Object(b.jsx)("img",{src:te,alt:""})," ",Object(b.jsx)("div",{className:ee.a.brand,children:"SOCIAL NETWORK "})," "]}),Object(b.jsx)("div",{className:ee.a.loginBlock,children:e.isAuth?Object(b.jsxs)("div",{children:[Object(b.jsxs)(d.b,{to:"/profile",children:[" ",e.login," "]}),Object(b.jsx)(G.a,{style:{fontSize:"12px",width:"60px",margin:"0 0 0 8px",padding:"4px"},onClick:e.logout,children:"Log out"})]}):Object(b.jsx)(d.b,{to:"/login",children:" Login "})})]})})},re=n(35),ae=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsx)(ne,Object(m.a)({},this.props))}}]),n}(a.a.Component),se=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{authUser:re.b,logout:re.d})(ae),oe=n(70),ce=n.n(oe),ie=["handleSubmit"],le=z(20),ue=H(4),de=Object(C.a)({form:"login"})((function(e){var t=e.handleSubmit,n=Object(k.a)(e,ie),a=Object(f.d)((function(e){return e.auth.captchaURL}));return Object(r.useEffect)((function(){document.title="Login"}),[]),Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:ce.a.loginWrap,onSubmit:t,children:[Object(b.jsx)("p",{className:ce.a.login,children:"Sign in"}),Object(b.jsxs)("div",{className:ce.a.auth,children:[Object(b.jsxs)("p",{children:[" You can use this app with default authorization or register",Object(b.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:" here"})]}),Object(b.jsx)("p",{children:" Email: free@samuraijs.com"}),Object(b.jsx)("p",{children:"Password: free"})]}),Object(b.jsx)("div",{children:Object(b.jsx)(N.a,{placeholder:"   Email",style:{height:"35px",width:"100%"},validate:[R],name:"email",component:L})}),Object(b.jsx)("div",{children:Object(b.jsx)(N.a,{placeholder:"   Password",style:{height:"35px",width:"100%"},validate:[R,le,ue],type:"password",name:"password",component:L})}),Object(b.jsxs)("div",{style:{display:"flex",marginTop:"5px"},children:[Object(b.jsx)(N.a,{style:{marginRight:"8px"},component:"input",name:"rememberMe",type:"checkbox"}),Object(b.jsx)("p",{style:{marginTop:"-6px"},children:"Remember me"})]}),Object(b.jsxs)("div",{style:{display:"flex",marginTop:"5px"},children:[a&&Object(b.jsx)("img",{src:a}),a&&Object(b.jsx)(N.a,{style:{marginRight:"8px"},component:L,placeholder:"Symbols from image",validate:R,name:"captchaURL"})]}),Object(b.jsx)("div",{children:Object(b.jsx)(G.a,{children:" Login"})}),n.error&&Object(b.jsx)("div",{className:ce.a.errorTextarea,children:n.error})]})})})),pe=Object(f.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:re.c})((function(e){return e.isAuth?Object(b.jsx)(O.a,{to:"/profile"}):Object(b.jsx)("div",{children:Object(b.jsx)(de,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captchaURL)}})})})),je=n(84),fe={},be=n(8),he=n.n(be),Oe=n(21),ge=n(13),me="PROFILE/ADD-POST",xe="PROFILE/SET_USER_PROFILE",ve="PROFILE/SET_STATUS",_e="PROFILE/DELETE_POST",Pe="PROFILE/SET_PHOTO",we={posts:[{id:1,messages:"Falcon 9\u2019s first stage has landed on!",likesCount:11},{id:2,messages:"Yuri Gagarin was the first person to fly in space.",likesCount:41}],newPostText:"",profile:null,status:"Hello!",isOwner:!1,updateMode:!1},ye=function(e){return{type:ve,text:e}},Se=function(e){return{type:"PROFILE_UPDATE_MODE",mode:e}},Ne=function(e){return function(){var t=Object(Oe.a)(he.a.mark((function t(n){var r;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.c.getProfile(e);case 3:r=t.sent,n((a=r.data,{type:xe,profile:a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}var a}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Ce={users:[],usersOnPage:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],portionSize:15,filter:{term:"",friend:null}},ke={followSuccess:function(e){return{type:"FOLLOW",userID:e}},setFilter:function(e){return{type:"FILTER",payload:e}},unFollowSuccess:function(e){return{type:"UNFOLLOW",userID:e}},setUsers:function(e){return{type:"SET_USERS",users:e}},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},setTotalUsersCount:function(e){return{type:"SET_TOTAL_USERS_COUNT",totalCount:e}},toggleIsFetching:function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},toggleIsFollowingProgress:function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",followingInProgress:e,userId:t}}},Ie=function(){var e=Object(Oe.a)(he.a.mark((function e(t,n,r,a){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(ke.toggleIsFollowingProgress(!0,t)),e.next=3,r(t);case 3:0===e.sent.resultCode&&n(a(t)),n(ke.toggleIsFollowingProgress(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ue=n(147),Fe=n(145),Ee=Object(Y.c)({sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe;return e},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var n=t.newMessageBody;return Object(m.a)(Object(m.a)({},e),{},{messages:[].concat(Object(g.a)(e.messages),[{id:(new Date).getTime(),messages:n}])});default:return e}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:var n={id:(new Date).getTime(),messages:t.newPostText,likesCount:0};return Object(m.a)(Object(m.a)({},e),{},{newPostText:"",posts:[n].concat(Object(g.a)(e.posts))});case ve:return Object(m.a)(Object(m.a)({},e),{},{status:t.text});case xe:return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});case _e:return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case Pe:return Object(m.a)(Object(m.a)({},e),{},{profile:Object(m.a)(Object(m.a)({},e.profile),{},{photos:t.photos})});case"PROFILE_UPDATE_MODE":return Object(m.a)(Object(m.a)({},e),{},{updateMode:t.mode});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(m.a)(Object(m.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(m.a)(Object(m.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(m.a)(Object(m.a)({},e),{},{users:Object(g.a)(t.users)});case"SET_CURRENT_PAGE":return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.totalCount});case"TOGGLE_IS_FETCHING":return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case"FILTER":return Object(m.a)(Object(m.a)({},e),{},{filter:t.payload});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(m.a)(Object(m.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(g.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:re.a,app:je.a,form:Fe.a}),Te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,Me=Object(Y.e)(Ee,Te(Object(Y.a)(Ue.a)));window.store=Me;var De=Me,Le=n(148),Ae=n.n(Le),We=function(){return Object(b.jsx)("div",{className:Ae.a.ldsDualRing})},Re=n(71),ze=n.n(Re),He=n(72),Ge=n.n(He),Be=n.p+"static/media/img.1c5b1442.webp";var Je=function(e){return Object(b.jsxs)("div",{className:Ge.a.content,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:Ge.a.img,children:Object(b.jsx)("img",{src:Be,alt:""})}),Object(b.jsxs)("div",{className:Ge.a.like,children:["like ",e.like]})]}),Object(b.jsxs)("div",{className:Ge.a.message,children:[" ",e.message]})]})},Ve=a.a.memo((function(e){var t=e.posts.map((function(e){return Object(b.jsx)(Je,{message:e.messages,like:e.likesCount},e.id)}));return Object(b.jsxs)("div",{className:ze.a.content,children:[Object(b.jsxs)("div",{className:ze.a.postBlock,children:[Object(b.jsx)("div",{className:ze.a.header,children:Object(b.jsx)("h4",{children:" My publications."})}),Object(b.jsx)(Ke,{onSubmit:function(t){e.onClick(t.newPostText)}})]}),Object(b.jsx)("div",{className:ze.a.posts,children:t})]})})),Xe=z(20),Ye=H(4),Ke=Object(C.a)({form:"profileAddMessageForm"})((function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(N.a,{placeholder:"  Enter your message",style:{margin:"10px 0"},name:"newPostText",component:D,validate:[R,Xe,Ye]})}),Object(b.jsx)(G.a,{children:"Publish"})]})})})),Qe=Ve,Ze=Object(f.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{onClick:function(t){e({type:me,newPostText:t})}}}))(Qe),qe=n(10),$e=n.n(qe),et=n.p+"static/media/logo2.73c0cc36.png",tt=n(90),nt=n.n(tt),rt=function(e){var t=Object(r.useState)(!1),n=Object(_.a)(t,2),a=n[0],s=n[1],o=Object(r.useState)(e.status),c=Object(_.a)(o,2),i=c[0],l=c[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);var u=function(){e.updateStatus(i),s(!1)},d=null===e.status?"Hello!":e.status;return Object(b.jsxs)("div",{style:{flexWrap:"wrap"},children:[!a&&Object(b.jsx)("div",{className:nt.a.statusInputDiv,children:Object(b.jsx)("span",{onDoubleClick:function(){e.isOwner&&s(!0)},children:d})}),a&&e.isOwner&&Object(b.jsx)("div",{className:nt.a.changeStatusDiv,children:Object(b.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:u,className:nt.a.statusInput,type:"text",value:i,onKeyPress:function(e){"Enter"===e.key&&u()}})})]})},at=n(91),st=n.n(at),ot=function(e){var t=Object(r.useState)(!1),n=Object(_.a)(t,2),a=n[0],s=n[1],o=function(e){e.preventDefault(),s(!0)},c=function(e){e.preventDefault(),s(!1)};return Object(b.jsx)("div",{className:st.a.dragWrap,children:a?Object(b.jsx)("div",{className:st.a.drop,onDragStart:function(e){o(e)},onDragOver:function(e){o(e)},onDragLeave:function(e){c(e)},onDrop:function(t){!function(t){if(t.preventDefault(),t.dataTransfer.files[0]){var n=t.dataTransfer.files[0];e.setPhoto&&e.setPhoto(n)}s(!1),e.setEditPhotoMode&&e.setEditPhotoMode(!1)}(t)},children:" Drop file  "}):Object(b.jsx)("div",{className:st.a.drag,onDragStart:function(e){o(e)},onDragOver:function(e){o(e)},onDragLeave:function(e){c(e)},children:"  Drag file "})})},ct=n(28),it=n(92),lt=n.n(it),ut=["input","meta","type","checked","field","onChange","onChangeChecked","className","spanClassName","form","children","name"],dt=function(e){var t=e.input,n=e.meta,r=(e.type,e.checked),a=e.field,s=(e.onChange,e.onChangeChecked,e.className),o=(e.spanClassName,e.form,e.children),c=(e.name,Object(k.a)(e,ut)),i="".concat(lt.a.checkbox," ").concat(s||"");return Object(b.jsxs)("label",{className:lt.a.label,children:[Object(b.jsx)("input",Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({type:"checkbox",className:i,checked:r},t),a),n),c)),o&&Object(b.jsxs)("span",{className:lt.a.spanClassName,children:[" ",o]})]})},pt=function(e){return{}},jt=function(e){var t,n,r,a,s,o,c,i,l=(null===(t=e.profile)||void 0===t?void 0:t.fullName)&&(null===(n=e.profile)||void 0===n?void 0:n.fullName),u=(null===(r=e.profile)||void 0===r?void 0:r.aboutMe)&&(null===(a=e.profile)||void 0===a?void 0:a.aboutMe),d=(null===(s=e.profile)||void 0===s?void 0:s.lookingForAJob)&&(null===(o=e.profile)||void 0===o?void 0:o.lookingForAJob),p=(null===(c=e.profile)||void 0===c?void 0:c.lookingForAJobDescription)&&(null===(i=e.profile)||void 0===i?void 0:i.lookingForAJobDescription),j=$e.a.fragmentWrap+" "+$e.a.contentForm;return Object(b.jsx)(ct.c,{initialValues:{fullName:l,aboutMe:u,lookingForAJob:d,lookingForAJobDescription:p},validate:pt,onSubmit:function(t,n){(0,n.setSubmitting)(!1),e.profileUpdateMode(!1),e.setProfile(t)},children:function(t){var n,r,a=t.isSubmitting;return Object(b.jsxs)(ct.b,{style:{paddingRight:"10px"},children:[Object(b.jsxs)("div",{className:j,style:{marginTop:"13px"},children:[Object(b.jsx)("p",{children:" Full name: "}),Object(b.jsx)(ct.a,{component:A,placeholder:"Full name",type:"text",name:"fullName"})]}),Object(b.jsxs)("div",{className:j,children:[Object(b.jsx)("p",{children:" Description: "}),Object(b.jsx)(ct.a,{component:A,placeholder:"About me",type:"text",name:"aboutMe"})]}),Object(b.jsxs)("div",{className:$e.a.fragmentWrap,children:[Object(b.jsx)("p",{children:" Looking for a job: "}),Object(b.jsx)(ct.a,{component:dt,type:"checkbox",name:"lookingForAJob"})]}),Object(b.jsxs)("div",{className:$e.a.fragmentWrap+" "+$e.a.contentForm,style:{marginTop:"7px"},children:[Object(b.jsx)("p",{children:" My skills: "}),Object(b.jsx)(ct.a,{component:A,placeholder:"My skills",type:"text",name:"lookingForAJobDescription"})]}),Object(b.jsx)("div",{className:$e.a.fragmentWrap,children:Object(b.jsxs)("p",{children:[" Contacts: ",Object.entries((null===(n=e.profile)||void 0===n?void 0:n.contacts)?null===(r=e.profile)||void 0===r?void 0:r.contacts:{}).map((function(e,t){return Object(b.jsxs)("div",{className:$e.a.fragmentWrap,style:{justifyContent:"space-between",marginLeft:"20px"},children:[Object(b.jsxs)("p",{children:[" ",e[0],": "]}),Object(b.jsx)(ct.a,{style:{marginBottom:"5px"},component:A,placeholder:e[0],type:"text",name:"contacts."+e[0]})]},t)}))]})}),Object(b.jsx)(G.a,{style:{width:"50%",opacity:"0.7"},type:"submit",disabled:a,children:"submit changes"})]})}})};var ft=function(e){var t,n,a,s,o,c,i,l=Object(r.useState)(!1),u=Object(_.a)(l,2),d=u[0],p=u[1];return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:$e.a.fragmentWrap,children:[Object(b.jsx)("p",{children:" Full name: "})," ",Object(b.jsx)("p",{children:null===(t=e.profile)||void 0===t?void 0:t.fullName})]}),Object(b.jsxs)("div",{className:$e.a.fragmentWrap,children:[Object(b.jsx)("p",{children:" Description: "})," ",Object(b.jsx)("p",{children:null===(n=e.profile)||void 0===n?void 0:n.aboutMe})]}),Object(b.jsx)("div",{className:$e.a.fragmentWrap,children:(null===(a=e.profile)||void 0===a?void 0:a.lookingForAJob)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:" Looking for a job: "}),Object(b.jsx)("p",{children:"Yes!"})]})}),Object(b.jsx)("div",{className:$e.a.fragmentWrap,children:(null===(s=e.profile)||void 0===s?void 0:s.lookingForAJob)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:" My skills: "}),Object(b.jsx)("p",{children:(null===(o=e.profile)||void 0===o?void 0:o.lookingForAJobDescription)||"lookingForAJobDescription"})]})}),Object(b.jsx)("div",{className:$e.a.fragmentWrap,children:d?Object(b.jsxs)("div",{style:{flexDirection:"column"},children:[Object(b.jsxs)("div",{className:$e.a.detailsWrap,onClick:function(){p(!1)},children:[Object(b.jsx)("div",{children:" Hide contacts"}),Object(b.jsx)("div",{className:$e.a.details})]}),Object(b.jsxs)("p",{style:{textAlign:"initial"},children:[" Contacts: ",Object.entries((null===(c=e.profile)||void 0===c?void 0:c.contacts)?null===(i=e.profile)||void 0===i?void 0:i.contacts:{}).map((function(e,t){return Object(b.jsxs)("div",{className:$e.a.fragmentWrap,style:{marginLeft:"20px"},children:[Object(b.jsxs)("p",{children:[" ",e[0],": "]})," ",Object(b.jsx)("p",{children:e[1]})]},t)}))]})]}):Object(b.jsxs)("div",{className:$e.a.detailsWrap,onClick:function(){p(!0)},children:[Object(b.jsx)("div",{children:" Show contacts"}),Object(b.jsx)("div",{className:$e.a.details})]})}),e.isOwner&&Object(b.jsx)(G.a,{style:{width:"50%",opacity:"0.5"},onClick:function(){e.profileUpdateMode(!0)},children:" edit profile"})]})},bt=function(e){var t=Object(r.useState)(!1),n=Object(_.a)(t,2),a=n[0],s=n[1];if(!e.profile)return Object(b.jsx)(We,{});var o=e.profile.photos.small?e.profile.photos.small:et,c=e.profile.photos.large?e.profile.photos.large:et,i=Object(b.jsx)("img",{onDoubleClick:function(){s(!a)},className:$e.a.img,src:c||o});return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:$e.a.descriptionBlock,children:[Object(b.jsxs)("div",{className:$e.a.content,style:{margin:"15px 0 0 15px",padding:" 0 20px 0 0"},children:[i,Object(b.jsx)("div",{children:e.isOwner&&a&&Object(b.jsx)("div",{style:{margin:"15px 0 0 30px"},children:Object(b.jsx)(ot,{setEditPhotoMode:s,isOwner:e.isOwner,setPhoto:e.setPhoto})})})]}),Object(b.jsxs)("div",{className:$e.a.contentWrap,children:[Object(b.jsxs)("div",{className:$e.a.content,style:{margin:" 0 0 20px 0"},children:[Object(b.jsxs)("div",{className:$e.a.name,children:[e.profile&&e.profile.fullName,Object(b.jsx)("span",{children:"Double click on highlighted objects to edit your profile"})]}),Object(b.jsxs)("div",{className:$e.a.fragmentWrap,style:{textAlign:"initial"},children:[Object(b.jsx)("p",{children:" Status: "})," ",Object(b.jsx)(rt,{isOwner:e.isOwner,updateStatus:e.updateStatus,status:e.status})]})]}),e.updateMode?Object(b.jsx)("div",{className:$e.a.content,children:Object(b.jsx)(jt,{setPhoto:e.setPhoto,isOwner:e.isOwner,profile:e.profile,setProfile:e.setProfile,profileUpdateMode:e.profileUpdateMode,updateMode:e.updateMode})}):Object(b.jsx)("div",{className:$e.a.content,children:Object(b.jsx)(ft,{setPhoto:e.setPhoto,isOwner:e.isOwner,profile:e.profile,setProfile:e.setProfile,profileUpdateMode:e.profileUpdateMode,updateMode:e.updateMode})})]})]})})},ht=n(114),Ot=n.n(ht);var gt=function(e){var t;return Object(r.useEffect)((function(){var t,n;document.title=(null===(t=e.profile)||void 0===t?void 0:t.fullName)?null===(n=e.profile)||void 0===n?void 0:n.fullName:"Profile"}),[null===(t=e.profile)||void 0===t?void 0:t.fullName]),e.isAuth?Object(b.jsxs)("div",{className:Ot.a.content,children:[Object(b.jsx)(bt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,setPhoto:e.setPhoto,profileUpdateMode:e.profileUpdateMode,updateMode:e.updateMode,setProfile:e.setProfile}),Object(b.jsx)("div",{className:Ot.a.myPostWrap,children:Object(b.jsx)(Ze,{})})]}):Object(b.jsx)(O.a,{to:"/login"})},mt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"setUserId",value:function(){var e=+this.props.match.params.userId;e||(this.props.isAuth?e=Number(this.props.authorizedUserId):this.props.history.push("/login")),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.setUserId()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.setUserId()}},{key:"render",value:function(){return Object(b.jsx)(gt,Object(m.a)(Object(m.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,setPhoto:this.props.setPhoto,profileUpdateMode:this.props.profileUpdateMode,updateMode:this.props.updateMode,setProfile:this.props.setProfile}))}}]),n}(a.a.Component),xt=Object(Y.d)(Object(f.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isOwner:e.profilePage.isOwner,updateMode:e.profilePage.updateMode,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setProfile:function(e){return function(){var t=Object(Oe.a)(he.a.mark((function t(n,r){var a;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,t.prev=1,t.next=4,ge.c.setProfile(e);case 4:0===t.sent.data.resultCode&&(n(Ne(a)),n(Se(!1))),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",Promise.reject(t.t0.data.messages[0]));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()},profileUpdateMode:Se,getStatus:function(e){return function(){var t=Object(Oe.a)(he.a.mark((function t(n){var r;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.c.getStatus(e);case 3:r=t.sent,n(ye(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(Oe.a)(he.a.mark((function t(n){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.c.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(ye(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setPhoto:function(e){return function(){var t=Object(Oe.a)(he.a.mark((function t(n){var r;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.c.setPhoto(e);case 3:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos,{type:Pe,photos:a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}var a}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getProfile:Ne}),O.g)(mt),vt=n(46),_t=n.n(vt),Pt=n(52),wt=n.n(Pt),yt=a.a.memo((function(e){for(var t=wt.a.selectedPage+" "+wt.a.pagination,n=Object(r.useState)(1),a=Object(_.a)(n,2),s=a[0],o=a[1],c=Math.ceil(e.totalItemsCount/e.pageSize),i=[],l=1;l<=c;l++)i.push(l);var u=Math.ceil(c/e.portionSize),d=(s-1)*e.pageSize+1,p=s*e.pageSize;return Object(b.jsxs)("div",{className:wt.a.wrap,children:[s>1&&Object(b.jsx)(G.a,{className:wt.a.button,onClick:function(){o(s-1)},children:"PREV "}),i.filter((function(e){return e>=d&&e<=p})).map((function(n,r){return Object(b.jsxs)("span",{className:e.currentPage===n?t:wt.a.pagination,onClick:function(){e.onPageChanged(n)},children:[n<10?" ".concat(n," "):n," "]},r)})),u>s&&Object(b.jsx)(G.a,{className:wt.a.button,style:{marginLeft:"10px"},onClick:function(){o(s+1)},children:"NEXT "})]})})),St=["users"],Nt=function(e){var t=e.users,n=Object(k.a)(e,St),r=null===t.status?"Hello!":t.status;return Object(b.jsxs)("div",{className:_t.a.userWrap,children:[Object(b.jsx)("span",{children:Object(b.jsx)("div",{children:Object(b.jsx)(d.b,{to:"/profile/"+t.id,children:Object(b.jsx)("img",{src:null!=t.photos.small?t.photos.small:et,className:_t.a.photo})})})}),Object(b.jsxs)("span",{className:_t.a.userInfoWrap,children:[Object(b.jsxs)("span",{style:{cursor:"default"},children:[Object(b.jsxs)("div",{children:[" ",t.name]}),Object(b.jsxs)("div",{style:{fontStyle:"italic",fontSize:"16px"},children:[" ",r]})]}),Object(b.jsx)("div",{style:{marginLeft:"-3px"},children:t.followed?Object(b.jsx)(G.a,{style:{letterSpacing:"1px",fontSize:"14px"},disabled:n.followingInProgress.some((function(e){return e===t.id})),onClick:function(){n.unFollow(t.id)},children:"UNFOLLOW"}):Object(b.jsx)(G.a,{style:{letterSpacing:"1px",fontSize:"14px"},disabled:n.followingInProgress.some((function(e){return e===t.id})),onClick:function(){n.follow(t.id)},children:"FOLLOW"})})]})]})},Ct=function(e){return{}},kt=a.a.memo((function(e){return Object(b.jsx)(ct.c,{initialValues:{term:"",friend:"null"},validate:Ct,onSubmit:function(t,n){var r=n.setSubmitting,a={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(a),r(!1)},children:function(e){var t=e.isSubmitting;return Object(b.jsxs)(ct.b,{className:_t.a.form,children:[Object(b.jsxs)(ct.a,{component:W,name:"friend",type:"select",children:[Object(b.jsx)("option",{value:"null",children:"All"}),Object(b.jsx)("option",{value:"true",children:"Only followed"}),Object(b.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(b.jsx)(ct.a,{placeholder:"  Find...",component:A,type:"text",name:"term"}),Object(b.jsx)(G.a,{style:{width:"20%"},type:"submit",disabled:t,children:"Find"})]})}})})),It=["onFilterChanged","users","currentPage","pageSize","onPageChanged","totalUsersCount","portionSize"],Ut=function(e){var t=e.onFilterChanged,n=e.users,a=e.currentPage,s=e.pageSize,o=e.onPageChanged,c=e.totalUsersCount,i=e.portionSize,l=Object(k.a)(e,It);return Object(r.useEffect)((function(){document.title="Users"}),[]),Object(b.jsxs)("div",{className:_t.a.wrap,children:[Object(b.jsx)(kt,{onFilterChanged:t}),n.map((function(e){return Object(b.jsx)(Nt,{users:e,follow:l.follow,unFollow:l.unFollow,followingInProgress:l.followingInProgress},e.id)})),Object(b.jsx)(yt,{currentPage:a,onPageChanged:o,totalItemsCount:c,pageSize:s,portionSize:i})]})},Ft=n(151),Et=Object(Ft.a)([function(e){return e.usersPage.users}],(function(e){return e})),Tt=function(e){return e.usersPage.usersOnPage},Mt=function(e){return e.usersPage.totalUsersCount},Dt=function(e){return e.usersPage.currentPage},Lt=function(e){return e.usersPage.isFetching},At=function(e){return e.usersPage.portionSize},Wt=function(e){return e.usersPage.followingInProgress},Rt=function(e){return e.usersPage.filter},zt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){var n=e.props,r=n.pageSize,a=n.filter;e.props.getUsers(t,r,a)},e.onFilterChanged=function(t){var n=e.props.pageSize;e.props.getUsers(1,n,t)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize,r=e.filter;this.props.getUsers(t,n,r)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isFetching?Object(b.jsx)(We,{}):"",Object(b.jsx)(Ut,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unFollow:this.props.unFollow,followingInProgress:this.props.followingInProgress,portionSize:this.props.portionSize,onFilterChanged:this.onFilterChanged})]})}}]),n}(a.a.Component),Ht=Object(Y.d)(Object(f.b)((function(e){return{users:Et(e),pageSize:Tt(e),totalUsersCount:Mt(e),currentPage:Dt(e),isFetching:Lt(e),portionSize:At(e),followingInProgress:Wt(e),filter:Rt(e)}}),{follow:function(e){return function(){var t=Object(Oe.a)(he.a.mark((function t(n){var r;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=ge.e.followUser.bind(ge.e),Ie(e,n,r,ke.followSuccess);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(Oe.a)(he.a.mark((function t(n){var r;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=ge.e.unFollowUser.bind(ge.e),Ie(e,n,r,ke.unFollowSuccess);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUsers:ke.setUsers,setCurrentPage:ke.setCurrentPage,setTotalUsersCount:ke.setTotalUsersCount,toggleIsFetching:ke.toggleIsFetching,toggleIsFollowingProgress:ke.toggleIsFollowingProgress,getUsers:function(e,t,n){return function(){var r=Object(Oe.a)(he.a.mark((function r(a){var s;return he.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(ke.toggleIsFetching(!0)),a(ke.setCurrentPage(e)),a(ke.setFilter(n)),r.next=5,ge.e.getUsers(e,t,n.term,n.friend);case 5:s=r.sent,a(ke.toggleIsFetching(!1)),a(ke.setUsers(s.items)),a(ke.setTotalUsersCount(s.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},getPage:function(e,t){return function(){var n=Object(Oe.a)(he.a.mark((function n(r){var a;return he.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ke.setCurrentPage(e)),r(ke.toggleIsFetching(!0)),n.next=4,ge.e.getUsers(e,t);case 4:a=n.sent,r(ke.toggleIsFetching(!1)),r(ke.setUsers(a.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),Z)(zt),Gt=n(53),Bt=n.n(Gt);var Jt=function(){return Object(b.jsxs)("div",{className:Bt.a.errorWrap,children:[Object(b.jsxs)("div",{className:Bt.a.errorBox,children:[Object(b.jsx)("div",{className:Bt.a.err,children:"4"}),Object(b.jsx)("div",{className:Bt.a.err,children:"0"}),Object(b.jsx)("div",{className:Bt.a.err,children:"4"})]}),Object(b.jsxs)("div",{className:Bt.a.msg,children:["Maybe this page moved? Got deleted? Is hiding out in a secret place? Never existed in the first place?",Object(b.jsxs)("p",{children:["Let's go ",Object(b.jsx)("a",{href:"#",children:"home"})," and try from there."]})]})]})},Vt=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,307))})),Xt=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,308))})),Yt=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,309))})),Kt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).catchAllUnHandledErrors=function(){console.log("Some errors")},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initialize(),window.addEventListener("unhandledrejection",this.catchAllUnHandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnHandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(se,{}),Object(b.jsxs)("div",{className:"app-content-wrapper",children:[Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsx)(h,{})}),Object(b.jsx)("div",{id:"container",className:"content-wrapper",children:Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(We,{}),children:Object(b.jsxs)(O.d,{children:[Object(b.jsx)(O.b,{path:"/",exact:!0,render:function(){return Object(b.jsx)(O.a,{to:"profile"})}}),Object(b.jsx)(O.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(xt,{})}}),Object(b.jsx)(O.b,{path:"/dialogs",render:function(){return Object(b.jsx)(q,{})}}),Object(b.jsx)(O.b,{path:"/users",render:function(){return Object(b.jsx)(Ht,{})}}),Object(b.jsx)(O.b,{path:"/login",render:function(){return Object(b.jsx)(pe,{})}}),Object(b.jsx)(O.b,{path:"/news",render:function(){return Object(b.jsx)(Vt,{})}}),Object(b.jsx)(O.b,{path:"/music",render:function(){return Object(b.jsx)(Xt,{})}}),Object(b.jsx)(O.b,{path:"/settings",render:function(){return Object(b.jsx)(Yt,{})}}),Object(b.jsx)(O.b,{render:function(){return Object(b.jsx)(Jt,{})}})]})})})]})]}):Object(b.jsx)(We,{})}}]),n}(a.a.Component),Qt=Object(f.b)((function(e){return{initialized:e.app.initialized}}),{initialize:je.c})(Kt),Zt=function(){return Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(d.a,{children:Object(b.jsx)(f.a,{store:De,children:Object(b.jsx)(Qt,{})})})})};o.a.render(Object(b.jsx)(Zt,{}),document.getElementById("root"))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return O}));var r=n(8),a=n.n(r),s=n(21),o=n(3),c=n(13),i=n(55),l="AUTH/SET_USER_DATA",u="GET_CAPTCHA_URL_SUCCESS",d={userId:null,email:null,login:null,isAuth:!1,captchaURL:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},e),t.payload);case u:return Object(o.a)(Object(o.a)({},e),{},{captchaURL:t.payload});default:return e}},j=function(e,t,n,r){return{type:l,payload:{userId:e,email:t,login:n,isAuth:r}}},f=function(e){return{type:u,payload:e}},b=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.me();case 2:(n=e.sent).resultCode===c.a.Success&&(r=n.data,s=r.id,o=r.login,i=r.email,t(j(s,i,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e,t,n,r){return function(){var o=Object(s.a)(a.a.mark((function o(l){var u,d;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,c.b.login(e,t,n,r);case 2:(u=o.sent).data.resultCode===c.a.Success?l(b()):(u.data.resultCode===c.a.Captcha&&l(function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.d.getCaptchaURL();case 2:n=e.sent,r=n.data.data.url,t(f(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=u.data.messages.length>0?u.data.messages:"Something is wrong",l(Object(i.a)("login",{_error:d})));case 4:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},O=function(){return function(e){c.b.logout().then((function(t){t.data.resultCode===c.a.Success&&e(j(null,null,null,!1))}))}}},36:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1PKM2",dialogsItems:"Dialogs_dialogsItems__1ohTD",messages:"Dialogs_messages__3Age9"}},46:function(e,t,n){e.exports={wrap:"Users_wrap__3sWeN",userWrap:"Users_userWrap__3H8b4",userInfoWrap:"Users_userInfoWrap__1vcPb",photo:"Users_photo__38xCo",pagination:"Users_pagination__OHGGc",selectedPage:"Users_selectedPage__2C9Fy",user:"Users_user__2JHGo",form:"Users_form__3NEo2"}},47:function(e,t,n){e.exports={header:"Header_header__2Ozwe",wrap:"Header_wrap__2BQLM",opacity:"Header_opacity__15-vJ",logo:"Header_logo__1sU97",brand:"Header_brand__3FSq4",loginBlock:"Header_loginBlock__1m390"}},52:function(e,t,n){e.exports={pagination:"Paginator_pagination__nwlMs",selectedPage:"Paginator_selectedPage__1npOX",wrap:"Paginator_wrap__2rKXl",button:"Paginator_button__1o8_k"}},53:function(e,t,n){e.exports={errorWrap:"Error404_errorWrap__2CV-p",errorBox:"Error404_errorBox__28w8r",err:"Error404_err__1BdCP",msg:"Error404_msg__3FVJL"}},69:function(e,t,n){e.exports={default:"SuperButton_default__27ueU",red:"SuperButton_red__JH68z",button:"SuperButton_button__2oDJ9",blink:"SuperButton_blink__G1OxP"}},70:function(e,t,n){e.exports={loginWrap:"Login_loginWrap__1wP8M",login:"Login_login__H5P_O",auth:"Login_auth__1nYT7"}},71:function(e,t,n){e.exports={content:"MyPosts_content__bddHt",posts:"MyPosts_posts__1YkW2",header:"MyPosts_header__uORGV"}},72:function(e,t,n){e.exports={content:"Post_content__3MiuU",img:"Post_img__1AXZT",message:"Post_message__3A_LI",like:"Post_like___r4DU"}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n(3),a=n(35),s="APP/INITIALIZED_SUCCESS",o="APP/CHANGE_THEME",c={initialized:!1,theme:"light"},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)(Object(r.a)({},e),{},{initialized:!0});case o:return Object(r.a)(Object(r.a)({},e),{},{theme:t.theme});default:return e}},l=function(e){return{type:o,theme:e}},u=function(){return function(e){var t=e(Object(a.b)());Promise.all([t]).then((function(){e({type:s})}))}}},90:function(e,t,n){e.exports={statusInput:"ProfileStatus_statusInput__1OUlU",statusInputDiv:"ProfileStatus_statusInputDiv__2PCju",changeStatusDiv:"ProfileStatus_changeStatusDiv__xTSw0"}},91:function(e,t,n){e.exports={dragWrap:"DragAndDrop_dragWrap__3H0oa",drop:"DragAndDrop_drop__2LVRc",drag:"DragAndDrop_drag__14r-I"}},92:function(e,t,n){e.exports={label:"SuperCheckbox_label__27a1V",checkbox:"SuperCheckbox_checkbox__33S5Z"}}},[[305,1,2]]]);
//# sourceMappingURL=main.959010ab.chunk.js.map